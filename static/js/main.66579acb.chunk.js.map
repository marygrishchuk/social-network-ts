{"version":3,"sources":["assets/images/user-photo.png","assets/images/preloader.svg","components/common/Preloader/Preloader.module.css","components/Profile/MyPosts/Post/like.svg","components/Profile/MyPosts/Post/notLiked.png","components/common/FormsControls/FormsControls.module.css","components/Users/Users.module.css","assets/images/logo.png","components/Login/Login.module.css","components/Navbar/Navbar.module.css","serviceWorker.ts","components/Navbar/FriendsDisplay/FriendsDisplay.tsx","api/api.ts","config.ts","redux/navbar-reducer.ts","redux/users-selectors.ts","components/Navbar/FriendsDisplay/FriendsDisplayContainer.tsx","components/Navbar/Navbar.tsx","components/common/Preloader/Preloader.tsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","redux/profile-reducer.ts","components/Profile/MyPosts/Post/Post.tsx","utils/validators/validators.ts","components/common/FormsControls/FormsControls.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","redux/dialogs-reducer.ts","components/Dialogs/DialogItem/DialogItem.tsx","components/Dialogs/Messages/Message.tsx","components/Dialogs/Dialogs.tsx","hoc/withAuthRedirect.tsx","components/Dialogs/DialogsContainer.tsx","redux/users-reducer.ts","components/Users/Users.tsx","components/Users/UsersContainer.tsx","components/Header/Header.tsx","redux/auth-reducer.ts","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","redux/app-reducer.ts","App.tsx","redux/redux-store.ts","index.tsx","components/Dialogs/Dialogs.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/Messages/Message.module.css","components/Navbar/FriendsDisplay/FriendsDisplay.module.css","components/Header/Header.module.css"],"names":["module","exports","Boolean","window","location","hostname","match","FriendsDisplay","React","memo","props","friends","filter","i","index","map","f","key","userId","className","s","item","to","src","avatar","userPhoto","alt","fullName","instance","axios","create","withCredentials","baseURL","headers","userAPI","currentPage","pageSize","friend","friendsOnly","get","then","response","data","followAPI","post","delete","authAPI","email","password","rememberMe","captcha","securityAPI","profileAPI","status","put","initialState","getFriends","dispatch","type","newFriends","items","id","photos","small","name","navbarReducer","state","action","getUsers","createSelector","usersPage","users","u","getPageSize","getTotalUsersCount","totalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingProgress","followingInProgress","FriendsDisplayContainer","this","isAuth","Component","compose","withRouter","connect","navBar","auth","Navbar","nav","linkContainer","PATH","PROFILE","activeClassName","active","DIALOGS","NEWS","MUSIC","USERS","settings","SETTINGS","Preloader","preloader","ProfileStatusWithHooks","useState","editMode","setEditMode","statusText","setStatusText","useEffect","deactivateEditMode","description","authUserId","autoFocus","value","onChange","e","inputValue","currentTarget","onKeyPress","updateUserStatus","onBlur","onDoubleClick","ProfileInfo","profile","profileInfo","avatarContainer","large","lookingForAJob","ADD_POST","SET_LIKED","SET_STATUS","posts","v1","isSentByMe","message","liked","likesCount","setStatus","setIsFetching","profileReducer","newPost","newPostText","stateCopy","postToLikeOrUnlike","find","p","postId","Post","ava","myAvatar","onClick","setLiked","like","likeImg","notLikedImg","required","maxLengthCreator","maxLength","length","FormControl","input","meta","hasError","touched","error","children","Textarea","restProps","Input","maxLength50","AddNewPostFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","placeholder","validate","textArea","addButton","MyPosts","postElements","postsBlock","values","addPost","MyPostsContainer","profilePage","addPostActionCreator","setLikedActionCreator","Profile","ProfileContainer","params","getUserProfile","prevProps","prevState","undefined","getProfilePromise","getStatusPromise","Promise","all","catch","console","warn","trimmedStatus","trim","resultCode","News","Music","Settings","dialogs","messages","dialogsReducer","newMessage","newMessageText","DialogItem","dialog","friendName","Message","rightSide","leftSide","AddMessageFormRedux","textarea","btn","mapStateToPropsForRedirect","dialogsPage","sendMessage","sendMessageCreator","WrappedComponent","dialogsElements","d","messagesElements","m","dialogItems","chat","formData","newMessageBody","toggleIsFetching","toggleFollowingProgress","usersReducer","followed","Users","pagesCount","Math","ceil","pages","push","pageNumber","onPageChanged","selected","spanBlock","divBlock","photoBtnBlock","disabled","some","unfollow","follow","textInfoBlock","nameStatusBlock","cityCountryBlock","UsersContainer","requestUsers","followSuccess","unfollowSuccess","setCurrentPage","totalCount","Header","header","logo","loginBlock","login","logout","captchaURL","setAuthUserData","payload","setCaptchaURL","getAuthUserData","authReducer","HeaderContainer","LoginReduxForm","Login","stopSubmit","_error","url","initialized","appReducer","LOGIN","App","initializeApp","exact","path","render","DialogsContainer","from","app","reducers","combineReducers","formReducer","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"8GAAAA,EAAOC,QAAU,8iN,oBCAjBD,EAAOC,QAAU,IAA0B,uC,oBCC3CD,EAAOC,QAAU,CAAC,UAAY,+B,oBCD9BD,EAAOC,QAAU,IAA0B,kC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,oBCC3CD,EAAOC,QAAU,CAAC,MAAQ,+B,mBCA1BD,EAAOC,QAAU,CAAC,UAAY,yBAAyB,SAAW,wBAAwB,cAAgB,6BAA6B,gBAAkB,+BAA+B,cAAgB,6BAA6B,iBAAmB,gCAAgC,UAAY,yBAAyB,WAAa,0BAA0B,SAAW,0B,oBCD/WD,EAAOC,QAAU,IAA0B,kC,oBCC3CD,EAAOC,QAAU,CAAC,MAAQ,uB,mBCA1BD,EAAOC,QAAU,CAAC,IAAM,oBAAoB,cAAgB,8BAA8B,OAAS,uBAAuB,SAAW,2B,0HCWjHC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,yJCTOC,EAAiBC,IAAMC,MAAK,SAACC,GACtC,IAAIC,EAAUD,EAAMC,QAAQC,QAAO,SAACC,EAAGC,GAAJ,OAAeA,EAAQ,KACrDC,KAAI,SAACC,GACE,OAAO,0BAAMC,IAAKD,EAAEE,OAAQC,UAAWC,IAAEC,MACjD,kBAAC,IAAD,CAASC,GAAI,YAAcN,EAAEE,QACrB,yBAAKK,IAAiB,MAAZP,EAAEQ,OAAiBR,EAAEQ,OAASC,IAAWC,IAAK,YAE5D,6BACCV,EAAEW,cAMX,OAAO,yBAAKR,UAAWC,IAAET,SACpBA,M,wBCpBHiB,E,OAAWC,EAAMC,OAAO,CAC1BC,iBAAiB,EACjBC,QAAS,gDACTC,QAAS,CACL,UCPY,0CDWPC,EAAU,WACyD,IAAnEC,EAAkE,uDAA5C,EAAGC,EAAyC,uDAAtB,GAAIC,EAAkB,uCACnEC,EAAcD,GAAU,GAC5B,OAAOT,EAASW,IAAT,qBAAiDJ,EAAjD,kBAAsEC,EAAtE,mBAAyFE,IAC3FE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAI1BC,EAAY,SACdzB,GACH,OAAOU,EAASgB,KAAT,iBAAwB1B,IAC1BsB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAH1BC,EAAY,SAKZzB,GACL,OAAOU,EAASiB,OAAT,iBAA0B3B,IAC5BsB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAI1BI,EAAU,WAEf,OAAOlB,EAASW,IAAT,WACFC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAH1BI,EAAU,SAKbC,EAAeC,EAAkBC,EAAqBC,GACxD,OAAOtB,EAASgB,KAAT,aAA4B,CAACG,QAAOC,WAAUC,aAAYC,YAC5DV,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAP1BI,EAAU,WAUf,OAAOlB,EAASiB,OAAT,cACFL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAI1BS,EAAc,WAEnB,OAAOvB,EAASW,IAAT,4BACFC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAI1BU,EAAa,SACPlC,GACX,OAAOU,EAASW,IAAI,WAAarB,GAC5BsB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAH1BU,EAAa,SAKZlC,GACN,OAAOU,EAASW,IAAT,yBAA+BrB,IACjCsB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAP1BU,EAAa,SASTC,GACT,OAAOzB,EAAS0B,IAAT,kCAAyCD,IAC3Cb,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SE/CnCa,EAA2B,CAC3B5C,QAAS,IAgBA6C,EAAa,SAACrB,EAAqBC,EAAkBC,GAAxC,OAA4D,SAACoB,GACnFvB,EAAiBC,EAAaC,EAAUC,GAAQG,MAAK,SAAAE,GACjDe,EANsD,CAC1DC,KAAM,cAAeC,WAKGjB,EAAKkB,MAAM7C,KAAI,SAAAC,GAAC,MAAK,CACrCE,OAAQF,EAAE6C,GACVrC,OAAQR,EAAE8C,OAAOC,MACjBpC,SAAUX,EAAEgD,gBAKTC,EAvBO,WAAgD,IAA/CC,EAA8C,uDAAtCX,EAAcY,EAAwB,uCACjE,OAAQA,EAAOT,MACX,IAAK,cACD,OAAO,2BAAIQ,GAAX,IAAkBvD,QAASwD,EAAOR,aACtC,QACI,OAAOO,I,gBClBNE,EAAWC,aAJC,SAACH,GACtB,OAAOA,EAAMI,UAAUC,SAG8B,SAACA,GACtD,OAAOA,EAAM3D,QAAO,SAAC4D,GAAD,OAAiB,QAG5BC,EAAc,SAACP,GACxB,OAAOA,EAAMI,UAAUlC,UAGdsC,EAAqB,SAACR,GAC/B,OAAOA,EAAMI,UAAUK,iBAGdC,EAAiB,SAACV,GAC3B,OAAOA,EAAMI,UAAUnC,aAGd0C,EAAgB,SAACX,GAC1B,OAAOA,EAAMI,UAAUQ,YAGdC,EAAuB,SAACb,GACjC,OAAOA,EAAMI,UAAUU,qBCVrBC,E,kLAEMC,KAAKxE,MAAMyE,QAAQD,KAAKxE,MAAM8C,WAAW0B,KAAKxE,MAAMyB,YAAa+C,KAAKxE,MAAM0B,UAAU,K,+BAI1F,OAAK8C,KAAKxE,MAAMyE,OACT,kBAAC5E,EAAD,CAAgBI,QAASuE,KAAKxE,MAAMC,UADZ,S,GANDH,IAAM4E,WA2B7BC,cAA6BC,IAAYC,aAThC,SAACrB,GACrB,MAAO,CACHvD,QAASuD,EAAMsB,OAAO7E,QACtBwE,OAAQjB,EAAMuB,KAAKN,OACnB/C,SAAUqC,EAAYP,GACtB/B,YAAayC,EAAeV,MAI6C,CAACV,eAAnE6B,CAAiFJ,GCxCnFS,EAAS,WAElB,OAAO,yBAAKvE,UAAWC,IAAEuE,KACrB,yBAAKxE,UAAWC,IAAEwE,eACd,kBAAC,IAAD,CAAStE,GAAIuE,GAAKC,QAASC,gBAAiB3E,IAAE4E,QAA9C,YAEJ,yBAAK7E,UAAWC,IAAEwE,eACd,kBAAC,IAAD,CAAStE,GAAIuE,GAAKI,QAASF,gBAAiB3E,IAAE4E,QAA9C,aAEJ,yBAAK7E,UAAWC,IAAEwE,eACd,kBAAC,IAAD,CAAStE,GAAIuE,GAAKK,KAAMH,gBAAiB3E,IAAE4E,QAA3C,SAEJ,yBAAK7E,UAAWC,IAAEwE,eACd,kBAAC,IAAD,CAAStE,GAAIuE,GAAKM,MAAOJ,gBAAiB3E,IAAE4E,QAA5C,UAEJ,yBAAK7E,UAAWC,IAAEwE,eACd,kBAAC,IAAD,CAAStE,GAAIuE,GAAKO,MAAOL,gBAAiB3E,IAAE4E,QAA5C,UAEJ,yBAAK7E,UAAS,UAAKC,IAAEiF,SAAP,YAAmBjF,IAAEwE,gBAC/B,kBAAC,IAAD,CAAStE,GAAIuE,GAAKS,SAAUP,gBAAiB3E,IAAE4E,QAA/C,aAEJ,kBAAC,EAAD,Q,qDCnBOO,GAJG/F,IAAMC,MAAK,WACzB,OAAO,yBAAKc,IAAKiF,IAAWrF,UAAWC,IAAEoF,UAAW9E,IAAK,oB,SCMhD+E,GAAyBjG,IAAMC,MAAK,SAACC,GAAsB,IAAD,EAErCgG,oBAAS,GAF4B,oBAE9DC,EAF8D,KAEpDC,EAFoD,OAGjCF,mBAAShG,EAAM2C,QAHkB,oBAG9DwD,EAH8D,KAGlDC,EAHkD,KAKnEC,qBAAU,WACND,EAAcpG,EAAM2C,UACrB,CAAC3C,EAAM2C,SAEV,IAIM2D,EAAqB,WACvBJ,GAAY,IAchB,OAAO,yBAAKzF,UAAWC,IAAE6F,aACpBvG,EAAMoE,WACD,kBAAC,GAAD,MACApE,EAAMwG,YAAcP,EAChB,wCACU,2BAAOQ,WAAW,EACXC,MAAOP,EACPQ,SAAU,SAACC,GAAD,OAlBjBC,EAkBuCD,EAAEE,cAAcJ,WAjB3EN,EAAcS,GADK,IAACA,GAmBOE,WAAY,SAACH,GAd5B,UAckDA,EAAErG,MAb5DP,EAAMgH,iBAAiBb,GACvBG,MAauBW,OAAQX,KAGzB,yBAAKY,cA/BM,WACrBhB,GAAY,KA8BF,WACWlG,EAAM2C,YCrCtBwE,GAAcrH,IAAMC,MAAK,SAACC,GAEnC,OAAKA,EAAMoH,QAIJ,yBAAK3G,UAAWC,IAAE2G,aACrB,yBAAK5G,UAAWC,IAAE4G,iBACbtH,EAAMoH,SACP,yBAAK3G,UAAWC,IAAEI,OAAQD,IAAKb,EAAMoH,QAAQhE,OAAOmE,MAAQvH,EAAMoH,QAAQhE,OAAOmE,MAAQxG,IACpFC,IAAK,mBAGd,yBAAKP,UAAWC,IAAE6F,aACd,6BACCvG,EAAMoH,QAAUpH,EAAMoH,QAAQnG,SAAW,MAE1C,kBAAC8E,GAAD,CAAwBpD,OAAQ3C,EAAM2C,OACdqE,iBAAkBhH,EAAMgH,iBACxBR,WAAYxG,EAAMwG,WAClBpC,WAAYpE,EAAMoE,aAE1C,kDAECpE,EAAMoH,SACPpH,EAAMoH,QAAQI,eAAiB,OAAS,SAtBrC,kBAAC,GAAD,S,kBCgCTC,GAAW,sBACXC,GAAY,uBAEZC,GAAa,wBAGf9E,GAAgC,CAChC+E,MAAO,CACH,CACIzE,GAAI0E,gBACJvE,KAAM,cACNwE,YAAY,EACZC,QAAS,mBACTC,OAAO,EACPC,WAAY,IAEhB,CACI9E,GAAI0E,gBACJvE,KAAM,eACNwE,YAAY,EACZC,QAAS,sBACTC,OAAO,EACPC,WAAY,IAEhB,CACI9E,GAAI0E,gBACJvE,KAAM,cACNwE,YAAY,EACZC,QAAS,yBACTC,OAAO,EACPC,WAAY,GAEhB,CACI9E,GAAI0E,gBACJvE,KAAM,aACNwE,YAAY,EACZC,QAAS,sCACTC,OAAO,EACPC,WAAY,GAEhB,CACI9E,GAAI0E,gBACJvE,KAAM,gBACNwE,YAAY,EACZC,QAAS,gCACTC,OAAO,EACPC,WAAY,IAEpBb,QAAS,KACTzE,OAAQ,GACRyB,YAAY,GAoDV8D,GAAY,SAACvF,GAAD,MACb,CAACK,KAAM2E,GAAYhF,WAElBwF,GAAgB,SAAC/D,GAAD,MAA0B,CAACpB,KArGzB,6BAqGgDoB,eA2BzDgE,GA/EQ,WAAgD,IAA/C5E,EAA8C,uDAAtCX,GAAcY,EAAwB,uCAClE,OAAQA,EAAOT,MACX,KAAKyE,GACD,IAAIY,EAAU,CACVlF,GAAI0E,gBACJvE,KAAM,KACNwE,YAAY,EACZC,QAAStE,EAAO6E,YAChBN,OAAO,EACPC,WAAY,GAEhB,OAAO,2BACAzE,GADP,IAEIoE,MAAM,CAAES,GAAH,oBAAe7E,EAAMoE,UAElC,KAAKF,GACD,IAAIa,EAAS,2BACN/E,GADM,IAEToE,MAAM,aAAKpE,EAAMoE,SAEjBY,EAAqBD,EAAUX,MAAMa,MAAK,SAAAC,GAAC,OAAIA,EAAEvF,KAAOM,EAAOkF,UASnE,OARIH,IACAA,EAAmBR,OAASvE,EAAOuE,MAC/BQ,EAAmBR,MACnBQ,EAAmBP,WAAaO,EAAmBP,WAAa,EAEhEO,EAAmBP,WAAaO,EAAmBP,WAAa,GAGjEM,EACX,IAjFiB,8BAkFb,OAAO,2BAAI/E,GAAX,IAAkB4D,QAAS3D,EAAO2D,UACtC,KAAKO,GACD,OAAO,2BAAInE,GAAX,IAAkBb,OAAQc,EAAOd,SACrC,IAnFgB,6BAoFZ,OAAO,2BAAIa,GAAX,IAAkBY,WAAYX,EAAOW,aACzC,QACI,OAAOZ,I,kFC3HNoF,GAAO,SAAC5I,GAKjB,OAAO,yBAAKS,UAAWC,KAAEC,MACpBX,EAAM8H,WACD,yBAAKrH,UAAWC,KAAEmI,IAAKhI,IAAKb,EAAM8I,SAC9B9I,EAAM8I,SACN/H,MACJ,yBAAKN,UAAWC,KAAEmI,IAAKhI,IAAKE,MAElC,yBAAKN,UAAWC,KAAE4C,MAAOtD,EAAMsD,KAA/B,KACA,yBAAK7C,UAAWC,KAAEqH,SAAU/H,EAAM+H,SAClC,6BACI,yBAAKgB,QAdK,WACd/I,EAAMgJ,SAAShJ,EAAM2I,OAAQ3I,EAAMgI,QAaJvH,UAAWC,KAAEuI,KAAMpI,IAAKb,EAAMgI,MAAQkB,KAAUC,OAD/E,IAC+FnJ,EAAMiI,c,oBChChGmB,GAAW,SAAC1C,GACrB,IAAIA,EACJ,MAAO,qBAGE2C,GAAmB,SAACC,GAAD,OAAuB,SAAC5C,GACpD,GAAIA,EAAM6C,OAASD,EAAW,MAAM,iBAAN,OAAwBA,EAAxB,c,8BCH5BE,GAAc,SAAC,GAAiC,EAAhCC,MAAiC,IAA1BC,EAAyB,EAAzBA,KAAS1J,EAAgB,iCAE5C2J,EAAWD,EAAKE,SAAWF,EAAKG,MAEtC,OAAO,yBAAKpJ,UAAWkJ,EAAWjJ,KAAEmJ,MAAQ,IACvC7J,EAAM8J,SACNH,GAAY,8BAAOD,EAAKG,SAIpBE,GAAW,SAAC/J,GAAgB,IAC9ByJ,EAA6BzJ,EAA7ByJ,MAAgBO,GAAahK,EAAtB0J,KADsB,aACA1J,EADA,mBAEpC,OAAO,kBAAC,GAAgBA,EAAO,8CAAcyJ,EAAWO,MAG/CC,GAAQ,SAACjK,GAAgB,IAC3ByJ,EAA6BzJ,EAA7ByJ,MAAgBO,GAAahK,EAAtB0J,KADmB,aACG1J,EADH,mBAEjC,OAAO,kBAAC,GAAgBA,EAAO,2CAAWyJ,EAAWO,MCRnDE,GAAcb,GAAiB,IAc/Bc,GAAsBC,aAAoB,CAACC,KAAM,yBAA3BD,EAZL,SAACpK,GAEpB,OAAO,0BAAMsK,SAAUtK,EAAMuK,aAAc9J,UAAWC,KAAE2H,SACpD,kBAACmC,GAAA,EAAD,CAAOC,UAAWV,GACXzG,KAAM,cACNoH,YAAa,aACbC,SAAU,CAACvB,GAAUc,IACrBzJ,UAAWC,KAAEkK,WACpB,4BAAQnK,UAAWC,KAAEmK,WAArB,gBAaKC,GAAUhL,IAAMC,MAAK,SAACC,GAE/B,IAAI+K,EAAe/K,EAAM4H,MAAMvH,KAAI,SAAAqI,GAAC,OAAI,kBAAC,GAAD,CAAMnI,IAAKmI,EAAEvF,GACPwF,OAAQD,EAAEvF,GACV2E,WAAYY,EAAEZ,WACdxE,KAAMoF,EAAEpF,KACRyE,QAASW,EAAEX,QACXC,MAAOU,EAAEV,MACTC,WAAYS,EAAET,WACde,SAAUhJ,EAAMgJ,SAChBF,SAAU9I,EAAMoH,SAAWpH,EAAMoH,QAAQhE,OAAOC,WAO9F,OAAO,yBAAK5C,UAAWC,KAAEsK,YACrB,wCACA,kBAACb,GAAD,CAAqBG,SANT,SAACW,GACbjL,EAAMkL,QAAQD,EAAO3C,gBAMrB,yBAAK7H,UAAWC,KAAEkH,OACbmD,OCnBEI,GAFUtG,aAnBD,SAACrB,GACrB,MAAO,CACHoE,MAAOpE,EAAM4H,YAAYxD,MACzBR,QAAS5D,EAAM4H,YAAYhE,YAIR,SAACrE,GACxB,MAAO,CACHmI,QAAS,SAAC5C,GACNvF,ELsHwB,SAACuF,GAAD,MAA0B,CAACtF,KAAMyE,GAAUa,eKtH1D+C,CAAqB/C,KAGlCU,SAAU,SAACL,EAAgBX,GACvBjF,ELoHyB,SAAC4F,EAAgBX,GAAjB,MAChC,CAAChF,KAAM0E,GAAWiB,OAAQA,EAAQX,MAAOA,GKrHzBsD,CAAsB3C,EAAQX,QAK1BnD,CAA6CiG,ICrBzDS,GAAUzL,IAAMC,MAAK,SAACC,GAE/B,OAAO,6BACH,kBAACmH,GAAgBnH,GACjB,kBAAC,GAAD,UCGFwL,G,kLAGE,IAAIhL,EAASgE,KAAKxE,MAAMJ,MAAM6L,OAAOjL,OAChCA,IACDA,EAASgE,KAAKxE,MAAMwG,YAExBhC,KAAKxE,MAAM0L,eAAelL,K,yCAGXmL,EAAsBC,GACrC,IAAIpL,EAASgE,KAAKxE,MAAMJ,MAAM6L,OAAOjL,OACjCmL,EAAU/L,MAAM6L,OAAOjL,SAAWA,GAAUA,GAC5CgE,KAAKxE,MAAM0L,eAAelL,K,+BAK9B,MAA8B,KAA1BgE,KAAKxE,MAAMwG,iBAAwDqF,IAAnCrH,KAAKxE,MAAMJ,MAAM6L,OAAOjL,OAA6B,kBAAC,IAAD,CACrFI,GAAI,WACD,kBAAC2K,GAAY/G,KAAKxE,W,GApBFF,IAAM4E,WAwCtBC,eAA6BE,aATpB,SAACrB,GACrB,MAAO,CACH4D,QAAS5D,EAAM4H,YAAYhE,QAC3BZ,WAAYhD,EAAMuB,KAAK5B,GACvBR,OAAQa,EAAM4H,YAAYzI,OAC1ByB,WAAYZ,EAAM4H,YAAYhH,cAI+B,CAACsH,ePgGxC,SAAClL,GAAD,OAAoB,SAACuC,GAC/CA,EAASoF,IAAc,IACvB,IAAI2D,EAA0CpJ,EAA0BlC,GACpEuL,EAAoCrJ,EAAqBlC,GAC7DwL,QAAQC,IAAI,CAACH,EAAmBC,IAAmBjK,MAAK,SAAAmJ,GACpDlI,EAZH,CAACC,KAlGmB,8BAkGKoE,QAYE6D,EAAO,KAC/BlI,EAASmF,GAAU+C,EAAO,KAC1BlI,EAASoF,IAAc,OACxB+D,OAAM,SAAArC,GACLsC,QAAQC,KAAKvC,GACb9G,EAASoF,IAAc,SO1GuDnB,iBP8GtD,SAACrE,GAAD,OAAoB,SAACI,GACjD,IAAIsJ,EAAgB1J,EAAO2J,OAC3BvJ,EAASoF,IAAc,IACvBzF,EAAwB2J,GAAevK,MAAK,SAAAE,GAChB,IAApBA,EAAKuK,aACLxJ,EAASoF,IAAc,IACvBpF,EAASmF,GAAUmE,YOnH3BzH,IADWD,CAEb6G,IC7DWgB,GAAO,WAChB,OAAO,sCCDEC,GAAQ,WACjB,OAAO,uCCDEC,GAAW,WACpB,OAAO,0CCmBP7J,GAAgC,CAChC8J,QAAS,CACL,CACIxJ,GAAI0E,gBACJvE,KAAM,SACNxC,OAAQC,KAEZ,CACIoC,GAAI0E,gBACJvE,KAAM,SACNxC,OAAQC,KAEZ,CACIoC,GAAI0E,gBACJvE,KAAM,QACNxC,OAAQC,KAEZ,CACIoC,GAAI0E,gBACJvE,KAAM,QACNxC,OAAQC,KAEZ,CACIoC,GAAI0E,gBACJvE,KAAM,SACNxC,OAAQC,KAEZ,CACIoC,GAAI0E,gBACJvE,KAAM,SACNxC,OAAQC,MAGhB6L,SAAU,CACN,CACIzJ,GAAI0E,gBACJE,QAAS,KACTD,YAAY,GAEhB,CACI3E,GAAI0E,gBACJE,QAAS,aACTD,YAAY,GAEhB,CACI3E,GAAI0E,gBACJE,QAAS,YACTD,YAAY,KAwBT+E,GAnBQ,WAAgD,IAA/CrJ,EAA8C,uDAAtCX,GAAcY,EAAwB,uCAClE,OAAQA,EAAOT,MACX,IAxDa,eAyDT,IAAI8J,EAAa,CACb3J,GAAI0E,gBACJE,QAAStE,EAAOsJ,eAChBjF,YAAY,GAEhB,OAAO,2BACAtE,GADP,IAEIoJ,SAAS,GAAD,oBAAMpJ,EAAMoJ,UAAZ,CAAsBE,MAEtC,QACI,OAAOtJ,I,wCC7ENwJ,GAAa,SAAChN,GACvB,OAAO,wBAAIS,UAAWC,KAAEuM,QACpB,yBAAKxM,UAAWC,KAAEI,OAAQD,IAAKb,EAAMc,SACrC,kBAAC,IAAD,CAASF,GAAE,mBAAcZ,EAAMmD,IAAMkC,gBAAiB3E,KAAE4E,QAAStF,EAAMkN,c,oBCHlEC,GAAU,SAACnN,GAEpB,OAAO,yBACHS,UAAWT,EAAM8H,WAAN,UACJpH,KAAE0M,WADE,UACe1M,KAAE2M,YAC1BrN,EAAM8H,YACR,yBAAKjH,IAAKE,MACV,0BAAMN,UAAWC,KAAEqH,SAAnB,IAA8B/H,EAAM+H,SACnC/H,EAAM8H,YACP,yBAAKjH,IAAKb,EAAM8I,SACV9I,EAAM8I,SACN/H,QCXRmJ,GAAcb,GAAiB,IAkB/BiE,GAAsBlD,aAAU,CAACC,KAAM,yBAAjBD,EAhBL,SAACpK,GAEpB,OAAO,0BAAMS,UAAWC,KAAEoM,WAAYxC,SAAUtK,EAAMuK,cAClD,6BACI,kBAACC,GAAA,EAAD,CAAOC,UAAWV,GACXzG,KAAM,iBACNoH,YAAa,qBACbC,SAAU,CAACvB,GAAUc,IACrBzJ,UAAWC,KAAE6M,YAExB,6BACI,4BAAQ9M,UAAWC,KAAE8M,KAArB,aCdRC,GAA6B,SAACjK,GAAD,MAA2B,CAACiB,OAAQjB,EAAMuB,KAAKN,SCShF,IAeeE,eAA6BE,aAfpB,SAACrB,GACrB,MAAO,CACHkK,YAAalK,EAAMkK,YACnBtG,QAAS5D,EAAM4H,YAAYhE,YAIR,SAACrE,GACxB,MAAO,CACH4K,YAAa,SAACZ,GACVhK,EL+DsB,SAACgK,GAAD,MAA6B,CAAC/J,KAvE3C,eAuE+D+J,kBK/D/Da,CAAmBb,UDfjC,SAA+Bc,GAQlC,OADqChJ,YAA6D4I,GAA7D5I,EANrC,SAA2B7E,GACMA,EAAxByE,OAD4D,IACjDuF,EADgD,aACnChK,EADmC,YAEhE,OAAKA,EAAMyE,OACJ,kBAACoJ,EAAqB7D,GADH,kBAAC,IAAD,CAAUpJ,GAAI,gBCiBjC+D,EFGQ,SAAC3E,GACpB,IAAIwD,EAAQxD,EAAM0N,YAEdI,EAAkBtK,EAAMmJ,QAAQtM,KAAI,SAAA0N,GAAC,OAAI,kBAAC,GAAD,CAAYjN,OAAQiN,EAAEjN,OAAQoM,WAAYa,EAAEzK,KAChCH,GAAI4K,EAAE5K,QAC3D6K,EAAmBxK,EAAMoJ,SAASvM,KAAI,SAAA4N,GAAC,OAAI,kBAAC,GAAD,CAASnF,SAAU9I,EAAMoH,SAAWpH,EAAMoH,QAAQhE,OAAOC,MAChD0E,QAASkG,EAAElG,QACXD,WAAYmG,EAAEnG,gBAOtE,OAAO,yBAAKrH,UAAWC,KAAEiM,SACrB,yBAAKlM,UAAWC,KAAEwN,aACbJ,GAEL,yBAAKrN,UAAWC,KAAEkM,UACd,yBAAKnM,UAAWC,KAAEyN,MACbH,GAEL,6BACA,kBAACV,GAAD,CAAqBhD,SAbF,SAAC8D,GACxBpO,EAAM2N,YAAYS,EAASC,wBGP/BxL,GAA8B,CAC9BgB,MAAO,GACPnC,SAAU,GACVuC,gBAAiB,EACjBxC,YAAa,EACb2C,YAAY,EACZE,oBAAqB,IAwEZgK,GAAmB,SAAClK,GAAD,MAA0B,CAACpB,KAjFhC,qBAiF0DoB,eACxEmK,GAA0B,SAACjK,EAA8B9D,GAA/B,MAAmD,CACtFwC,KAlF8B,4BAmF9BsB,sBACA9D,WAiCWgO,GA1GM,WAAgD,IAA/ChL,EAA8C,uDAAtCX,GAAcY,EAAwB,uCAChE,OAAQA,EAAOT,MACX,IAnBO,SAoBH,OAAO,2BACAQ,GADP,IAEIK,MAAOL,EAAMK,MAAMxD,KAAI,SAACyD,GACpB,OAAIA,EAAEX,KAAOM,EAAOjD,OACT,2BAAIsD,GAAX,IAAc2K,UAAU,IAErB3K,OAInB,IA7BS,WA8BL,OAAO,2BACAN,GADP,IAEIK,MAAOL,EAAMK,MAAMxD,KAAI,SAACyD,GACpB,OAAIA,EAAEX,KAAOM,EAAOjD,OACT,2BAAIsD,GAAX,IAAc2K,UAAU,IAErB3K,OAInB,IAvCU,YAwCN,OAAO,2BACAN,GADP,IAIIK,MAAOJ,EAAOI,QAGtB,IA9CiB,mBA+Cb,OAAO,2BACAL,GADP,IAEI/B,YAAagC,EAAOhC,cAG5B,IAnDsB,wBAoDlB,OAAO,2BACA+B,GADP,IAEIS,gBAAiBR,EAAOQ,kBAGhC,IAxDmB,qBAyDf,OAAO,2BACAT,GADP,IAEIY,WAAYX,EAAOW,aAG3B,IA7D0B,4BA8DtB,OAAO,2BACAZ,GADP,IAEIc,oBAAqBb,EAAOa,oBAAP,uBACXd,EAAMc,qBADK,CACgBb,EAAOjD,SACtCgD,EAAMc,oBAAoBpE,QAAO,SAAAiD,GAAE,OAAIA,GAAMM,EAAOjD,YAIlE,QACI,OAAOgD,I,oBCLJkL,GApFD,SAAC1O,GAKX,IAHA,IAAI2O,EAAaC,KAAKC,KAAK7O,EAAMiE,gBAAkBjE,EAAM0B,UAErDoN,EAAQ,GACH3O,EAAI,EAAGA,GAAKwO,EAAYxO,IAC7B2O,EAAMC,KAAK5O,GAGf,OAAO,6BACH,6BACI,4BAAQM,UAAWC,KAAEsO,WAAYjG,QAAS,WAClC/I,EAAMyB,aAAe,GACrBzB,EAAMiP,cAAcjP,EAAMyB,YAAc,KAFhD,KAKCqN,EAAMzO,KAAI,SAACqI,EAAGvI,GACP,GAAIuI,GAAK,GAAW,KAANA,GAAkB,KAANA,GAAkB,MAANA,GAAmB,MAANA,GAAmB,MAANA,GAAmB,MAANA,GAChE,MAANA,GAAmB,MAANA,GAAmB,MAANA,GAAmB,MAANA,GAAmB,MAANA,GAAmB,MAANA,GAAmB,MAANA,GACxE,MAANA,GAAmB,MAANA,GAAmB,MAANA,EAC7B,OAAO,0BAAMnI,IAAKJ,EAAGM,UAAWT,EAAMyB,cAAgBiH,EAAIhI,KAAEwO,SAAWxO,KAAEsO,WAC5DjG,QAAS,kBAAM/I,EAAMiP,cAAcvG,KADzC,IAC+CA,EAD/C,QAKnB,0BAAMjI,UAAWT,EAAMyB,cAAgBkN,EAAajO,KAAEwO,SAAWxO,KAAEsO,WAC7DjG,QAAS,WACL/I,EAAMiP,cAAcN,KACpBA,EAHV,KAIA,4BAAQlO,UAAWC,KAAEsO,WAAYjG,QAAS,WAClC/I,EAAMyB,YAAczB,EAAMiE,iBAC1BjE,EAAMiP,cAAcjP,EAAMyB,YAAc,KAFhD,KAKA,0BAAMhB,UAAWC,KAAEwO,UAAnB,KAAgClP,EAAMyB,cAEzCzB,EAAMoE,WACD,kBAAC,GAAD,MACA,wCAAIpE,EAAM6D,MAAMxD,KAAI,SAACyD,GAAD,OAAY,yBAAKvD,IAAKuD,EAAEX,IAE1C,yBAAK1C,UAAWC,KAAEyO,WACd,yBAAK1O,UAAWC,KAAE0O,SAAW,IAAM1O,KAAE2O,eACjC,6BACI,kBAAC,IAAD,CAASzO,GAAI,YAAckD,EAAEX,IACzB,yBAAKtC,IAAuB,MAAlBiD,EAAEV,OAAOC,MAAgBS,EAAEV,OAAOC,MAAQtC,IAC/CN,UAAWC,KAAEK,UAAWC,IAAK,gBAG1C,6BACK8C,EAAE2K,SACG,4BAAQa,SAAUtP,EAAMsE,oBAAoBiL,MAAK,SAAApM,GAAE,OAAIA,IAAOW,EAAEX,MACxD4F,QAAS,WACL/I,EAAMwP,SAAS1L,EAAEX,MAF7B,YAIA,oCACGnD,EAAMyE,OACD,4BAAQ6K,SAAUtP,EAAMsE,oBAAoBiL,MAAK,SAAApM,GAAE,OAAIA,IAAOW,EAAEX,MACxD4F,QAAS,WACL/I,EAAMyP,OAAO3L,EAAEX,MAF3B,UAIA,gCAAQ,kBAAC,IAAD,CAASvC,GAAG,UAAZ,cAM9B,yBAAKH,UAAWC,KAAEyO,UAAY,IAAMzO,KAAEgP,eAClC,yBAAKjP,UAAWC,KAAE0O,SAAW,IAAM1O,KAAEiP,iBACjC,6BAAM7L,EAAER,MACR,6BAAMQ,EAAEnB,SAEZ,yBAAKlC,UAAWC,KAAE0O,SAAW,IAAM1O,KAAEkP,kBACjC,6BAAM,mBACN,6BAAM,gCC/D5BC,G,4MAOFZ,cAAgB,SAACD,GACb,EAAKhP,MAAM8P,aAAad,EAAY,EAAKhP,MAAM0B,UAC/C,EAAK1B,MAAM8C,WAAWkM,EAAY,EAAKhP,MAAM0B,UAAU,I,kEANvD8C,KAAKxE,MAAM8P,aAAatL,KAAKxE,MAAMyB,YAAa+C,KAAKxE,MAAM0B,UAC3D8C,KAAKxE,MAAM8C,WAAW0B,KAAKxE,MAAMyB,YAAa+C,KAAKxE,MAAM0B,UAAU,K,+BASnE,OAAO,kBAAC,GAAD,CACHmC,MAAOW,KAAKxE,MAAM6D,MAClBnC,SAAU8C,KAAKxE,MAAM0B,SACrBuC,gBAAiBO,KAAKxE,MAAMiE,gBAC5BxC,YAAa+C,KAAKxE,MAAMyB,YACxBgO,OAAQjL,KAAKxE,MAAMyP,OACnBD,SAAUhL,KAAKxE,MAAMwP,SACrBlL,oBAAqBE,KAAKxE,MAAMsE,oBAChC2K,cAAezK,KAAKyK,cACpB7K,WAAYI,KAAKxE,MAAMoE,WACvBK,OAAQD,KAAKxE,MAAMyE,a,GAvBF3E,IAAM4E,WAkDpBG,gBAZS,SAACrB,GACrB,MAAO,CACHK,MAAOH,EAASF,GAChB9B,SAAUqC,EAAYP,GACtB/B,YAAayC,EAAeV,GAC5BS,gBAAiBD,EAAmBR,GACpCY,WAAYD,EAAcX,GAC1Bc,oBAAqBD,EAAqBb,GAC1CiB,OAAQjB,EAAMuB,KAAKN,UAIa,CACpCgL,OFsDkB,SAACjP,GAAD,OAAoB,SAACuC,GACvCA,EAASwL,IAAwB,EAAM/N,IACvCyB,EAAiBzB,GAAQsB,MAAK,SAAAE,GACF,IAApBA,EAAKuK,YACLxJ,EA1BiB,SAACvC,GAAD,MAAqB,CAACwC,KAjFpC,SAiFkDxC,UA0B5CuP,CAAcvP,IAE3BuC,EAASwL,IAAwB,EAAO/N,SE3D5CgP,SF+DoB,SAAChP,GAAD,OAAoB,SAACuC,GACzCA,EAASwL,IAAwB,EAAM/N,IACvCyB,EAAmBzB,GAAQsB,MAAK,SAAAE,GACJ,IAApBA,EAAKuK,YACLxJ,EAnCmB,SAACvC,GAAD,MAAqB,CAACwC,KAjFpC,WAiFoDxC,UAmChDwP,CAAgBxP,IAE7BuC,EAASwL,IAAwB,EAAO/N,SEpE5CsP,aF0CwB,SAACrO,EAAqBC,GAAtB,OAA2C,SAACqB,GACpEA,EAV0B,SAACtB,GAAD,MAA0B,CAACuB,KAjFhC,mBAiFwDvB,eAUpEwO,CAAexO,IACxBsB,EAASuL,IAAiB,IAC1B9M,EAAiBC,EAAaC,GAAUI,MAAK,SAAAE,GACzCe,EAASuL,IAAiB,IAC1BvL,EAf6C,CAACC,KAjFpC,YAiFqDa,MAe7C7B,EAAKkB,QACvBH,EAdwD,CAACC,KAjFnC,wBAiFgEiB,gBAc1DjC,EAAKkO,kBE/CrCpN,cAJW+B,CAKZgL,I,yCCvEUM,GAAS,SAACnQ,GACnB,OAAO,4BAAQS,UAAWC,KAAE0P,QAExB,yBAAKvP,IAAG,UAAKwP,QAEb,yBAAK5P,UAAWC,KAAE4P,YACbtQ,EAAMoE,WAAa,kBAAC,GAAD,MAChBpE,EAAMyE,OACA,6BACE,kBAAC,IAAD,CAAS7D,GAAI,YAAcZ,EAAMmD,IAAKnD,EAAMuQ,OAC5C,kBAAC,IAAD,CAAS3P,GAAI,UAAU,4BAAQmI,QAAS/I,EAAMwQ,QAAvB,aAEzB,kBAAC,IAAD,CAAS5P,GAAI,UAAb,Y,SCJlBiC,GAAyB,CACzBM,GAAI,GACJd,MAAO,GACPkO,MAAO,GACPnM,YAAY,EACZK,QAAQ,EACRgM,WAAY,IA2BVC,GAAkB,SAACvN,EAAYd,EAAekO,EAAe9L,GAA3C,MAAgE,CACpFzB,KAtCuB,qBAuCvB2N,QAAS,CAACxN,KAAId,QAAOkO,QAAO9L,YAE1BmM,GAAgB,SAACH,GAAD,MAAyB,CAACzN,KAxCxB,kBAwC+CyN,eAC1DnC,GAAmB,SAAClK,GAAD,MAA0B,CAACpB,KAxChC,qBAwC0DoB,eAExEyM,GAAkB,kBAAM,SAAC9N,GAClC,OAAOX,IAAaN,MAAK,SAAAE,GAErB,GADAe,EAASuL,IAAiB,IACF,IAApBtM,EAAKuK,WAAkB,CACvBxJ,EAASuL,IAAiB,IADH,MAEEtM,EAAKA,KAAzBmB,EAFkB,EAElBA,GAAId,EAFc,EAEdA,MAAOkO,EAFO,EAEPA,MAChBxN,EAAS2N,GAAgBvN,EAAId,EAAOkO,GAAO,SACxCxN,EAASuL,IAAiB,SAkC1BwC,GAxEK,WAAgD,IAA/CtN,EAA8C,uDAAtCX,GAAcY,EAAwB,uCAC/D,OAAQA,EAAOT,MACX,IAfmB,qBAgBf,OAAO,2BACAQ,GACAC,EAAOkN,SAElB,IAnBgB,kBAoBZ,OAAO,2BACAnN,GADP,IAEIiN,WAAYhN,EAAOgN,aAG3B,IAxBmB,qBAyBf,OAAO,2BACAjN,GADP,IAEIY,WAAYX,EAAOW,aAG3B,QACI,OAAOZ,ICrCbuN,G,uKAEE,OAAO,kBAAC,GAAWvM,KAAKxE,W,GAFFF,IAAM4E,WAsBrBG,gBATS,SAACrB,GACrB,MAAO,CACHiB,OAAQjB,EAAMuB,KAAKN,OACnB8L,MAAO/M,EAAMuB,KAAKwL,MAClBnM,WAAYZ,EAAMuB,KAAKX,WACvBjB,GAAIK,EAAMuB,KAAK5B,MAKnB,CAACqN,OD0DiB,kBAAM,SAACzN,GACzBX,IAAiBN,MAAK,SAAAE,GACM,IAApBA,EAAKuK,YACLxJ,EAAS2N,GAAgB,GAAI,GAAI,IAAI,UC9DlC7L,CACDkM,I,qBCURC,GAAiB5G,aAAU,CAACC,KAAM,SAAjBD,EA/BL,SAACpK,GAEf,OAAO,0BAAMsK,SAAUtK,EAAMuK,cACzB,6BACI,kBAACC,GAAA,EAAD,CAAOE,YAAY,QAAQpH,KAAM,QAASmH,UAAWR,GAAOU,SAAU,CAACvB,OAE3E,6BACI,kBAACoB,GAAA,EAAD,CAAOE,YAAY,WAAWpH,KAAM,WAAYmH,UAAWR,GAAOU,SAAU,CAACvB,IAAWpG,KAAM,cAElG,6BACI,kBAACwH,GAAA,EAAD,CAAOC,UAAW,QAASnH,KAAM,aAAcN,KAAK,aADxD,gBAGA,6BACKhD,EAAM6J,OAAS,yBAAKpJ,UAAWC,KAAEmJ,OAAQ7J,EAAM6J,OAC/C7J,EAAMyQ,YACP,6BACI,yBAAK5P,IAAKb,EAAMyQ,aAChB,6BACI,kBAACjG,GAAA,EAAD,CAAOE,YAAY,6BAA6BpH,KAAM,UAAWmH,UAAWR,GACrEU,SAAU,CAACvB,SAI9B,6BACKpJ,EAAMoE,WACD,kBAAC,GAAD,MACA,8CAcZ6M,G,4MACF3G,SAAW,SAAC8D,GACR,EAAKpO,MAAMuQ,MAAMnC,EAAS/L,MAAO+L,EAAS9L,SAAU8L,EAAS7L,WAAY6L,EAAS5L,U,uDAIlF,OAAIgC,KAAKxE,MAAMyE,OACJ,kBAAC,IAAD,CAAU7D,GAAI,aAElB,6BACH,qCACA,kBAACoQ,GAAD,eAAgB1G,SAAU9F,KAAK8F,UAAc9F,KAAKxE,a,GAX1CF,IAAM4E,WA8BXG,gBARS,SAACrB,GACrB,MAAO,CACHiB,OAAQjB,EAAMuB,KAAKN,OACnBgM,WAAYjN,EAAMuB,KAAK0L,WACvBrM,WAAYZ,EAAMuB,KAAKX,cAIS,CAACmM,MFbpB,SAAClO,EAAeC,EAAkBC,EAAqBC,GAAvD,OAA4E,SAACO,GAC9FX,EAAcC,EAAOC,EAAUC,EAAYC,GAASV,MAAK,SAAAE,GACrDe,EAASuL,IAAiB,IACF,IAApBtM,EAAKuK,aACLxJ,EAASuL,IAAiB,IAC1BvL,EAAS8N,MACT9N,EAAS6N,GAAc,MAEH,IAApB5O,EAAKuK,aACLxJ,EAASuL,IAAiB,IAC1BvL,EAASmO,aAAW,QAAS,CAACC,OAAQnP,EAAK4K,aAEvB,KAApB5K,EAAKuK,aACLxJ,EAASuL,IAAiB,IAC1BvL,EAASmO,aAAW,QAAS,CAACC,OAAQnP,EAAK4K,YAC3CnK,IAA4BX,MAAK,SAAAE,GAC7Be,EAAS6N,GAAc5O,EAAKoP,gBEH7BvM,CAAkCoM,IC1E7CpO,GAA+B,CAC/BwO,aAAa,GAwBFC,GArBI,WAAgD,IAA/C9N,EAA8C,uDAAtCX,GAAcY,EAAwB,uCAC9D,OAAQA,EAAOT,MACX,IARgB,kBASZ,OAAO,2BACAQ,GADP,IAEI6N,aAAa,IAErB,QACI,OAAO7N,ICNN2B,GAAO,CAChBoM,MAAO,SACPhM,QAAS,WACTC,KAAM,QACNC,MAAO,SACPL,QAAS,WACTM,MAAO,SACPE,SAAU,aAUR4L,G,kLAEEhN,KAAKxE,MAAMyR,kB,+BAIX,OAAKjN,KAAKxE,MAAMqR,YAKZ,yBAAK5Q,UAAU,eACX,kBAAC,GAAD,MACA,kBAAC,EAAD,MACA,yBAAKA,UAAU,uBACX,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOiR,OAAK,EAACC,KAAM,CAAC,IAAD,UAASxM,GAAKC,QAAd,cAAmCwM,OAAQ,kBAAM,kBAAC,GAAD,SACpE,kBAAC,IAAD,CAAOD,KAAMxM,GAAKI,QAASqM,OAAQ,kBAAM,kBAACC,GAAD,SACzC,kBAAC,IAAD,CAAOF,KAAMxM,GAAKK,KAAMoM,OAAQ,kBAAM,kBAAC,GAAD,SACtC,kBAAC,IAAD,CAAOD,KAAMxM,GAAKM,MAAOmM,OAAQ,kBAAM,kBAAC,GAAD,SACvC,kBAAC,IAAD,CAAOD,KAAMxM,GAAKO,MAAOkM,OAAQ,kBAAM,kBAAC,GAAD,SACvC,kBAAC,IAAD,CAAOD,KAAMxM,GAAKS,SAAUgM,OAAQ,kBAAM,kBAAC,GAAD,SAC1C,kBAAC,IAAD,CAAOD,KAAMxM,GAAKoM,MAAOK,OAAQ,kBAAM,kBAAC,GAAD,SACvC,kBAAC,IAAD,CAAOD,KAAM,OAAQC,OAAQ,kBAAM,uDACnC,kBAAC,IAAD,CAAUE,KAAM,IAAKlR,GAAI,YAjB9B,kBAAC,GAAD,U,GAPDd,IAAM4E,WA0CTC,eAA6BC,IAAYC,aANhC,SAACrB,GACrB,MAAO,CACH6N,YAAa7N,EAAMuO,IAAIV,eAIkD,CAACI,cD/CrD,kBAAM,SAAC1O,GAClBA,EAAS8N,MACf/O,MAAK,WACTiB,EALsB,CAACC,KAlBP,2BCmET2B,CAAoF6M,I,oBCvD/FQ,GAAWC,YAAgB,CAC3B7G,YAAahD,GACbsF,YAAab,GACb/H,OAAQvB,EACRK,UAAW4K,GACXzJ,KAAM+L,GACNzG,KAAM6H,KACNH,IAAKT,KAGLa,GAAeC,YAAYJ,GAAUK,YAAgBC,OAE1CH,MAGf1S,OAAO0S,MAAQA,GC5BfI,IAASX,OACL,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAUO,MAAOA,IACb,kBAAC,GAAD,QAGRK,SAASC,eAAe,StC4HtB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrB9Q,MAAK,SAAA+Q,GACJA,EAAaC,gBAEd5G,OAAM,SAAArC,GACLsC,QAAQtC,MAAMA,EAAM9B,a,mBuChJ5BzI,EAAOC,QAAU,CAAC,QAAU,yBAAyB,YAAc,6BAA6B,SAAW,0BAA0B,KAAO,sBAAsB,WAAa,4BAA4B,SAAW,0BAA0B,IAAM,uB,mBCAtPD,EAAOC,QAAU,CAAC,YAAc,iCAAiC,eAAiB,oCAAoC,aAAe,kCAAkC,gBAAkB,qCAAqC,OAAS,4BAA4B,YAAc,mC,mBCAjRD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,IAAM,kBAAkB,KAAO,mBAAmB,QAAU,sBAAsB,KAAO,qB,mBCArID,EAAOC,QAAU,CAAC,WAAa,4BAA4B,QAAU,yBAAyB,SAAW,0BAA0B,UAAY,2BAA2B,MAAQ,yB,mBCAlLD,EAAOC,QAAU,CAAC,OAAS,2BAA2B,OAAS,2BAA2B,OAAS,6B,mBCAnGD,EAAOC,QAAU,CAAC,SAAW,0BAA0B,UAAY,2BAA2B,QAAU,2B,mBCAxGD,EAAOC,QAAU,CAAC,QAAU,gCAAgC,KAAO,+B,mBCAnED,EAAOC,QAAU,CAAC,OAAS,uBAAuB,WAAa,8B","file":"static/js/main.66579acb.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAEzBJREFUeJztnXuQldWRwH9zmQAz6PB++AAHFTVGSJWroigprESjW1rGxMVK/krFoKtGs2tcRTS6ujFryhjzkNWqmKCSqsRH1N1kI1ktCQk+NimzCYgSEQZGRETAERx5CXf/6LmZC7kzc797v9N9vu/2r6prpJA53f31+R7n9OluwgnFKGAy0N4jE4AxwOiyn8OAIcDgMgHYXSa7gG5gC7C57OdGYC3Q0fNza2B7GpImawVywFjg48A0YGqPTAHalPXYBqwClgPLeuTPyGRyasQnSDIGIZPh9B6ZAUw01WhgOoHnged6ZBmw11QjJ1ccCVwJ/BLYDhQzLtuAXwBXIK+AjpOIJmAmcDfwGvYBHVpWAt9Bnoj+RuH0yanIpFiPfdBaSSdwF3BKnb50csIhwDxgNfbBGZusAuYC42v2rpNJCsC5wBPAHuwDMXbZAzwOnIO/guWaFuByGuO7IpSsBC4Dhib0vRMxY4FbgXewD7C8yCbgFmTD08koo4A7gPexD6i8ynbgdmBkldfEiYDhyBPjPewDqFGkC7gZ/ewBJwHNwFVIrpJ1wDSqvINsQA4a4Fo5ynwaWIF9gLiILAM+2e8Vc1RoR9ImrAPCpbI8CUzq6+I54SgA/4R/gGdBtiOvvoWKV9JJnROAF7G/8C7J5Hng+ArX00mJAnA9coDI+mK71Ca7gGvxHfnUORx4FvsL7JKOPA0cipMKFyHHSa0vqku6shm4EKdmmoHvYX8hXcLKXT3X2knABOC32F88Fx1ZDIzDqYoZwAbsL5qLrqwHpuP0y+eBndhfLBcb2QHMxqnIjcA+7C+Si63sA64jEmJYj24G7gMusVYkAEXknPdqeou8ddJbAG4LknVcXigO9i8kN5zeYnNjkNSNdqQiyVHkN5XjPuArGJcosp4gQ4BHgfON9UiDIvAqsmP8EpKwtxxJtQhJG1KsbhpwIlKd5Djsr20aPAlcTO+No6EYBjyD/SO9HvkLshR9HnJAKxZGIzed7yPFF6z9VI8sQo5LNxRtwFLsnZ9U9vXofTVSUC4rHI0kdz5PNr/zlgAHp+6VSGkDfo+905PIMuAa4i8zWg2TkHyol7H3axJ5kQaYJK1k58nRDfwIKSiXV04DfozYau3vamQJOX7dGoIkqVk7eSDZANxAYxUiGA3chLRUsPb/QLKI3jYRuaEZ+C/sndufrAG+RA6dn4AhwBxkSdr6evQnT5Czc+/3Y+/UvqQTuBT4SDDrs8dgpPjCm9hfn77k3mDWK3Mj9s6sJNuR2rNDwpmeeYYir16xHm2OZse9Vr5AfMuK+4AFSMawUx2HAQ9hf+0qXct/CGh3UGYQX+LhSqT3h1MbZxLfxuMOMpgFPIG4Utb3AN/AX6fSoAUp6foh9te1JG+QofMkzcR12Ol1MniHyQAzkJU/6+tbkmfJyMpWTMdkFwAHhTW3oWkDFmJ/nUtyZ1hz6+ci7J1URN5LvxjWVKeMOcTzvXlBYFtr5nDiqD7SgaR9O7qcjOwpWV//d5DWelFRQA7eWztnKd7UxZJxwAvYx8Gview8zPXYO+Vn+CpVDLQAP8c+Hv45tKHVcgL25UDvJLI7RoNTAL6LbUzsRE5WmlLAvpD0zcGtdGrlNmxj43cY3zi/WkEpTflaeBOdOrkO2xi5PLyJlWnHNonNJ0d2sJwk7yErrOpYdnby16rs8W/YxctjCvbtx9kpKV6LRL9b6vSJ5Yf7rPDmCc3YNcz8Gb5alWWasFsC/hNKbeC+YmBcEdkEHKpgnxOWFuxWPi8NbdxwbPqQr8V3yPPEOGzSUjYROHn1VgOjduC5VXnkFGwSHG8MZdAoZMlM26AvhjLIMWcO+vG0FXkTSp07DIxZEMIQJyoszpPclrYRY9HfFHwdP+zUCLShfzJxGykXG9f+9tiDH5NtJGagf8b9prSUb0EOoWgqf3tayjuZQfsVfiMpHY/4R2XFV6aluJMpWtAvKfTlepUuIE1itBTeh9etamTORHeCvEqdmRnnKiu8oB5lnVygvap1dj3KPqGo6Da8HKgjZU41V0wfrVXRQ5DVJC1F59aqqJM7vo5e3O2mxqqM8xSV7MQ/zJ1eWtBtvfAvtSi5WlHB4FmWTua4Er34+0tS5U5VVG4N3rzG+VsGA+vQi8O/q6REXwdILq7TuCR8A/nWcZxydgPfVByv6phvAtajM2s30Ng9AZ3+GQq8jU4srq2kQKUnyBnIUpsG9yB3CsepxE5gvtJYR1Bly++70Zmx3TRWq2WnNkYDH6ATk9+uRiGt1JIfJXCS09g8gE5MrhhIkSOVFClS5ePMcYDT0YvLSeUDH/gNcm7alvXBcqSyheNUw3PAK0pj7TcHrCbIA0rjOPnhQaVxzin/Q3mq7yCgi/DHXEuPsfWBx6mXY5G18VlIGf1S2aHNSJr0EuBhatiFVWYgO34DPEL8drQj3cNC8x5yHHffgX9xIjrveEtDWZYSHwcWUb09TwFTTTTtn6R2/Io47ShHq+BcRT9cpTT41fV4KCBNSBZpLWej9yBnnGMoi1qvHfOIw45KXINOjFZsmfBTpcGPrMdDgRgE/IT6bVuIba/utOx4EKU6tgk5Bp0Y/UmlwTVKQcb6nnsv6dmotfNbiTTtuEdZ92rRyDLvOHDQcQqDFoHv1e2e9Pk86dupmexZIoQds1UtqI756MTqfnWzPqU06HlpeChFDiJMMtxbwDC3IwgXoBOrs6D3PVNj9aKIbPjExGXUeNxyACagewgspB1zAvzeenheaZxp5X9YQPgZqbUTmoRXCGfvyzmxY7miHdWikS94P+g+QWJ7erQDHw34+z/GAXk9gWgnrB0nABMD/v5a0IilqdA7QaYoDPiSwhhJOMnHqJqTFcZIgkYsTQGZIKOQCtuhWaYwRhKO8DGiGiMJGq99I4G2AjBZYTDtd/JqaFUYQ2MFKC92JEHrZju5gLzDhqYTqZwYE90+RlRjJKELnWRXtQmyWmGMpHQqjLFOYYy82JGUNQpjTC6gUw93rcIYSfmDjxHVGEnpUBhjfAGd9soaxiRlHWH3Zl4G3gj4+0uEtmM5OnYkRSOmxhSQqhGh0XgNqIX7A/5uzaIUebEjCRoxNRpk6z70ruTfKxhTC8OQfKO07d2AzupSaDveVLYjCecTPm5/p/UE2aIwRi10E+YA19VILSct8mJHEjRiajTolBk9WsGYeriH9Gz9vrLu5aRpR4xHE8o5lvBxuw50OtiOTdc3qVMAHqJ+O61P4qVlxwLiPFFYzgTCx+1GkCoOoQcanq5vgtCEnMeupavWHuAG4jjLXY8du4Hr9VWuiZGEj9t3AXYoDNSSrm+CMhX4JdXb9gskczc2arHjeBNNa6OV8HHb3QTsJfzjtLlnnCwxBTlyOgsJnNJ+0TtIPanFSAPIVRbKJaAaOx4BXrdQrg4GIZVbQrLXJ4iTVVQmSAGd/hzeJMdJG42mr7t8gjhZRWOC7PYJ4mQVtSfILoWBsrDM62QLjZjaVUDnMIxGOovTWGjEVHcBnZwWjZR6p7HQiKktBaRPRGh8gjhpoxFTm7WeIBr1oZzGQiOm1J4g7QpjOI1Fu8IYmwv0ZCwGRqO0kNNYaMTUxgI6BRVibJrjZJujFMZY24zO4fdJSPXG2GpjJeUW4khpr4d9wG3WStTJSOAwhXE6QEqPhk4bLiLN4LPO++j4KqRk/SYF8Al0fNVWALai47RpA/8v0fO2tQIpkAcbNGJpK7CtlOaucabhRIUxQrPWWoEUiLFKYlI0YmkV9J4D0aiWnYdXrFibkCYhDzacoTDGcuidIBrVso/jgMaIGeT/rBVIgazbMA6dfjbLQHeCNJH9p8j/WiuQAlm3YYbSOPs9Qf6sNOhZSuOEYjlyljurbCK+Pi1JOVtpnP2eIJvRqXV6rsIYISkCT1srUQdPIzZkmXMUxliLrGLtV6xBo73u0ejsgIbkUWsF6uARawXq5Fh0UkyWlv6jfIJodaE9X2mcUDyFdDjKGu8Ci6yVqJPzlMb561ywmCCzlcYJxS7CthsIxQ/RqT8QkouVxqk4FwYhO+qht+/3EV/f7aRMpLbSnlayBzg8iCf0mIyOr96lLN+u/AmyF1gSyLhymtC7E4TiDbL1FPkhOk0vQ6L15rGYfhYyrkBnlmZ9qRGkYn0X9k+Hau6IeTjy/Co6/rq0PyW0HmNF4LQanBQbWjeUeuTyYNbrMRM9fw34+r9SSZEfJ3RSrPwn9pOgL3kioN2aPIiOv6p6s/mOkjLdZD83C6Q+Uwf2k+FAWUM+/DsGaQOn4bM7q1HodCVlisBN1fspao5Ep5VdtfIG+akD8K/o+W16NQo1IQ7WUGgjOjVWNTgO6QprPTneRHac80ALkj+m4beOJIppvWYVgTlJFIucCcBvsZscS4Dxwa3UQ3MR5FtJFJuuqNha8lX9vRm4A9m11vLh7p4xmxXs02IIem8yRWo4pbhKUbk8LEUeyBRkFSm07x5H5wCRNlejF38ra1FwrqKC64GhtSiZAU4B7kM27NLy11bgXuBkRTs0aQXeQi/+rq1FyQno5hvlZUWrL4YAFwH3IKf6dlK9b3YCL/b828+Rn4WNvrgVvbjbhWRFVGSgImiPAxcmt68muoFjgA1K41nzEaTr7HhgBFIMbUTP33UhT5wupEzPK8jNqhGYhLzyaLUOf5Q68rzOQW8mF4GHalXUyQ0/RTfm6joG3oRe6klJzqxHYSfTnIVurK0ghVKylykrvYr8frA7fdOKpMdoxtolaSg+FL3dzJLckYbiTqb4Nrox9hYpLnbcoqz8h+jVP3LsmYkc2NOMsXlpGjAG2K5swBqkZYKTb0Yg9YI1Y6sLWTVMlduVjSgCC9M2wokO7VWrIvJGlDojsTlimqdkRmd/LE5kbiHgm8nNBgbtJL8pFY3MaegmdJZkbkij2pDatNpGdSJVvZ18MAGbA2YbgWGhjbMqVPACvj+SB1qBP2ATQ19WsI9BSJVzCwMfI/tNNBuZAvAkNrHzR/avAxeUTyoY1JfcrWCfE4YfYBc3MxXs2w+rO0GR7LcxbkQstglK8rCCfX/DJPQ3D8vluvAmOilxA3Zx0gUcGt7EylxVhYI+SRoby8lRRJJtzSggjXcsHeCvW/HyTWxjYwkRLOocjxxbtHTEd4nAEc5fKWD7QV5ENpijqQ92LbbOKCJLwFrHNJ2+acV2AackXw1taBKagGewd8oL+I67JROw2wQsl6eI8I3iUCQRzNo5nXjulgWnEUd94k3IRI2SC7F3UBF5//QsYD2uwP47tCRajT5r5i7snVSShfihq5CMwOY8R1+SiaPazcBvsHdWSdbgx3dD8An0TwL2J88geYKZYBxxvI+W5EPk7uKrXPXTihRY0D5D3p+sI4N9GKcDO7B3Xrmswutu1cNZ6JfmGUg+AE4KaXRIZiN90a2deKAsBA4LaHfemEhc3xol2Qt8NqDdKlyPvSMryfvA1/HXrv5oRQpJa/UITCrXhDNdl/uwd2Zf8iZwJflq4lMvQ5CdaM0WBEnlB8GsN2AQOs1k6pF1SOZnIx/rbUH2NDQ7O9Uij5GhFatqGQwswt65A8nbSPWW0WHcECVjkG6y2iVma5H/RlpH5JIWJAXZ2snVyAfAA0hb7LwyE3iQeL8xDpTFNMAT/mCkW5K1s5PICuRwVnv67lBnMrJw8ir2fk0iLwAHBfBHlByMbbvkeuRFZPXkmNS9Eo7jgK8Bv8fef7XIYhpocpRoBX6NvfPrkdXAfOAC4trJHQt8BvgP4tvYSyq/wnAp3jpnfjBSceIzxnqkxWvAc8BLSO2wZUjRgJCMBKYC05Be32eQn7bQPwe+gJQoNcF6goAs183H+HB9QNYjd/GOHukENiNnZ7YA7yGp4iUB2YcoyXBkRW1Mj0xCvoUmA0eR34yA+chezF5rRWLhOuJMS3HRlb3kaIc8bWYTX4Kji558QA5yq0Iznfh3cl3Sl3VkOCtXm3HAs9hfNBcdeZq4VgEzwSDgTuwvnktY+XdymFelyQXYNO1xCSubyECBhaxwCPA/2F9Ul3TkKWA8Tqo0Ict/O7G/wC61yQ5kbyOG/bfc8lFgKfYX2yWZLCGiWrl5pwk52LMN+wvv0r90AZfiTw0TDkdOl1kHgUtleRjD5jVOL7OAP2EfEC4if8SgJ6DTPwXkUZ6FY6N5lY3AJSh2k3WScxBwI/Au9gHTKLIFmAsMq+L6OJEwAmnP5h/y4aQLuAUvEJ5pRgE3IY9/64DKi7wFzEMOazk5YQjSMyRrxQpikleAL/X40skpTcCnkeXh3dgHXeyyC3gEKVztexkNxjjkJONr2AdibLISac46tmbvOrniJCS9PqamMNrSAXwLKf7gOBVpAk5FmsSswD5oQ8vLyI1hehrOcxqPI5CKK08iy5rWAV2vvAs8jixYTEzRT7nEP7qSUQA+htSeOr1H2i0VqoK1SPbzcz0/S09Fpwp8gtTPKKRoW0mmIoXbtPcItiIt5koF60o/tyrrkSt8goSjDSnuVpLxSGGC0WU/h9FbIG4wvfsLu5Al6FIxuW4knWNz2c+NyNOho0e2hTep8fh/K0QwA4MjJlsAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/preloader.d3682caa.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__N5VOs\"};","module.exports = __webpack_public_path__ + \"static/media/like.0483f2b6.svg\";","module.exports = __webpack_public_path__ + \"static/media/notLiked.742e1553.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormsControls_error__3tzbP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spanBlock\":\"Users_spanBlock__1OxK_\",\"divBlock\":\"Users_divBlock__1SjI9\",\"photoBtnBlock\":\"Users_photoBtnBlock__3hJEI\",\"nameStatusBlock\":\"Users_nameStatusBlock__1zkuM\",\"textInfoBlock\":\"Users_textInfoBlock__1ddwj\",\"cityCountryBlock\":\"Users_cityCountryBlock__1mcQL\",\"userPhoto\":\"Users_userPhoto__1Cwrf\",\"pageNumber\":\"Users_pageNumber__3x7Fc\",\"selected\":\"Users_selected__148En\"};","module.exports = __webpack_public_path__ + \"static/media/logo.cb021b28.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Login_error__NxUj6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__24KRL\",\"linkContainer\":\"Navbar_linkContainer__2wgLU\",\"active\":\"Navbar_active___bQWC\",\"settings\":\"Navbar_settings__3aWKz\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import s from \"./FriendsDisplay.module.css\";\r\nimport React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from \"../../../assets/images/user-photo.png\"\r\nimport {FriendDisplayType} from \"../../../redux/navbar-reducer\";\r\n\r\ntype PropsType = {\r\n    friends: Array<FriendDisplayType>\r\n}\r\nexport const FriendsDisplay = React.memo((props: PropsType) => {\r\n    let friends = props.friends.filter((i, index) => (index < 3))\r\n        .map((f) => {\r\n                return <span key={f.userId} className={s.item}>\r\n        <NavLink to={'/profile/' + f.userId}>\r\n                <img src={f.avatar != null ? f.avatar : userPhoto} alt={'avatar'}/>\r\n            </NavLink>\r\n            <div>\r\n            {f.fullName}\r\n            </div>\r\n        </span>\r\n            }\r\n        )\r\n\r\n    return <div className={s.friends}>\r\n        {friends}\r\n    </div>\r\n})","import axios from \"axios\";\r\nimport {config} from \"../config\";\r\nimport { UserType } from \"../redux/users-reducer\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    headers: {\r\n        \"API-KEY\": config.MY_SAMURAI_KEY\r\n    }\r\n})\r\n\r\nexport const userAPI = {\r\n    getUsers(currentPage: number = 1, pageSize: number = 10, friend?: boolean) {\r\n        let friendsOnly = friend || ''\r\n        return instance.get<GetUsersResponseType>(`users?page=${currentPage}&count=${pageSize}&friend=${friendsOnly}`)\r\n            .then(response => response.data)\r\n    },\r\n}\r\n\r\nexport const followAPI = {\r\n    follow(userId: string) {\r\n        return instance.post(`follow/${userId}`)\r\n            .then(response => response.data)\r\n    },\r\n    unfollow(userId: string) {\r\n        return instance.delete(`follow/${userId}`)\r\n            .then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => response.data)\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean, captcha?: string) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n            .then(response => response.data)\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n            .then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaURL() {\r\n        return instance.get(`security/get-captcha-url`)\r\n            .then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getUserProfile(userId: string) {\r\n        return instance.get(`profile/` + userId)\r\n            .then(response => response.data)\r\n    },\r\n    getStatus(userId: string) {\r\n        return instance.get(`profile/status/${userId}`)\r\n            .then(response => response.data)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put(`profile/status`, `status=${status}`)\r\n            .then(response => response.data)\r\n    },\r\n}\r\n\r\n//types\r\ntype GetUsersResponseType = {\r\n    items: Array<UserType>\r\n    totalCount: number\r\n    error: string | null\r\n}","export const config = {\r\n    MY_SAMURAI_KEY: \"199df811-bd09-48a1-81bc-ca38857c74a2\"\r\n}","import {ActionTypes} from \"./redux-store\";\r\nimport {Dispatch} from \"redux\";\r\nimport {userAPI} from \"../api/api\";\r\n\r\nexport type navbarACTypes = ReturnType<typeof setFriends>\r\n\r\n\r\nexport type FriendDisplayType = {\r\n    userId: string\r\n    avatar: string | null\r\n    fullName: string\r\n}\r\n\r\nexport type NavBarType = {\r\n    friends: Array<FriendDisplayType>\r\n}\r\n\r\nlet initialState: NavBarType = {\r\n    friends: [],\r\n}\r\n\r\nconst navbarReducer = (state = initialState, action: ActionTypes) => {\r\n    switch (action.type) {\r\n        case \"SET_FRIENDS\":\r\n            return {...state, friends: action.newFriends}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst setFriends = (newFriends: Array<FriendDisplayType>) => ({\r\n    type: \"SET_FRIENDS\", newFriends\r\n} as const)\r\n\r\nexport const getFriends = (currentPage: number, pageSize: number, friend: boolean) => (dispatch: Dispatch) => {\r\n    userAPI.getUsers(currentPage, pageSize, friend).then(data => {\r\n        dispatch(setFriends(data.items.map(f => ({\r\n            userId: f.id,\r\n            avatar: f.photos.small,\r\n            fullName: f.name\r\n        }))))\r\n    })\r\n}\r\n\r\nexport default navbarReducer","import {RootStateType} from \"./redux-store\";\r\nimport {createSelector} from \"reselect\";\r\nimport {UserType} from \"./users-reducer\";\r\n\r\nconst getUsersSelector = (state: RootStateType) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter((u: UserType) => true) //as a sample of a selector from reselect\r\n}) //we assigned a getUsers variable to createSelector() this way\r\n\r\nexport const getPageSize = (state: RootStateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state: RootStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state: RootStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state: RootStateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingProgress = (state: RootStateType) => {\r\n    return state.usersPage.followingInProgress\r\n}","import React from \"react\";\r\nimport {FriendsDisplay} from \"./FriendsDisplay\";\r\nimport {RootStateType} from \"../../../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\nimport {FriendDisplayType, getFriends} from \"../../../redux/navbar-reducer\";\r\nimport {compose} from \"redux\";\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {getCurrentPage, getPageSize} from \"../../../redux/users-selectors\";\r\n\r\ntype PathParamsType = {}\r\n\r\ntype PropsType = RouteComponentProps<PathParamsType> & {\r\n    friends: Array<FriendDisplayType>\r\n    isAuth: boolean\r\n    pageSize: number\r\n    currentPage: number\r\n    getFriends: (currentPage: number, pageSize: number, friend: boolean) => void\r\n}\r\n\r\nclass FriendsDisplayContainer extends React.Component<PropsType> {\r\n    componentDidMount() {\r\n        if (this.props.isAuth) this.props.getFriends(this.props.currentPage, this.props.pageSize, true)\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.isAuth) return null\r\n        return <FriendsDisplay friends={this.props.friends}/>\r\n    }\r\n}\r\n\r\ntype MapStatePropsType = {\r\n    friends: Array<FriendDisplayType>\r\n    isAuth: boolean\r\n    pageSize: number\r\n    currentPage: number\r\n}\r\n\r\nconst mapStateToProps = (state: RootStateType): MapStatePropsType => {\r\n    return {\r\n        friends: state.navBar.friends,\r\n        isAuth: state.auth.isAuth,\r\n        pageSize: getPageSize(state),\r\n        currentPage: getCurrentPage(state),\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(withRouter, connect(mapStateToProps, {getFriends}))(FriendsDisplayContainer)\r\n//withRouter is necessary here as well as in App.tsx for functioning of FriendsDisplay that contains Navlink","import React from \"react\";\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport FriendsDisplayContainer from \"./FriendsDisplay/FriendsDisplayContainer\";\r\nimport {PATH} from \"../../App\";\r\n\r\nexport const Navbar = () => {\r\n\r\n    return <nav className={s.nav}>\r\n        <div className={s.linkContainer}>\r\n            <NavLink to={PATH.PROFILE} activeClassName={s.active}>Profile</NavLink>\r\n        </div>\r\n        <div className={s.linkContainer}>\r\n            <NavLink to={PATH.DIALOGS} activeClassName={s.active}>Messages</NavLink>\r\n        </div>\r\n        <div className={s.linkContainer}>\r\n            <NavLink to={PATH.NEWS} activeClassName={s.active}>News</NavLink>\r\n        </div>\r\n        <div className={s.linkContainer}>\r\n            <NavLink to={PATH.MUSIC} activeClassName={s.active}>Music</NavLink>\r\n        </div>\r\n        <div className={s.linkContainer}>\r\n            <NavLink to={PATH.USERS} activeClassName={s.active}>Users</NavLink>\r\n        </div>\r\n        <div className={`${s.settings} ${s.linkContainer}`}>\r\n            <NavLink to={PATH.SETTINGS} activeClassName={s.active}>Settings</NavLink>\r\n        </div>\r\n        <FriendsDisplayContainer/>\r\n    </nav>\r\n}\r\n","import React from \"react\";\r\nimport preloader from \"../../../assets/images/preloader.svg\"\r\nimport s from \"./Preloader.module.css\"\r\n\r\nconst Preloader = React.memo(() => {\r\n    return <img src={preloader} className={s.preloader} alt={'loading data'}/>\r\n})\r\n\r\nexport default Preloader","import React, {useEffect, useState} from \"react\";\r\nimport s from './ProfileInfo.module.css';\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\n\r\ntype PropsType = {\r\n    status: string\r\n    updateUserStatus: (status: string) => void\r\n    authUserId: string\r\n    isFetching: boolean\r\n}\r\n\r\nexport const ProfileStatusWithHooks = React.memo((props: PropsType) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [statusText, setStatusText] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatusText(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n    }\r\n\r\n    const onStatusChange = (inputValue: string) => {\r\n        setStatusText(inputValue)\r\n    }\r\n\r\n    const onEnterKeyPress = (key: string) => {\r\n        if (key === \"Enter\") {\r\n            props.updateUserStatus(statusText);\r\n            deactivateEditMode()\r\n        }\r\n    }\r\n\r\n    return <div className={s.description}>\r\n        {props.isFetching\r\n            ? <Preloader/>\r\n            : props.authUserId && editMode\r\n                ? <div>\r\n                    Status: <input autoFocus={true}\r\n                                   value={statusText}\r\n                                   onChange={(e) => onStatusChange(e.currentTarget.value)}\r\n                                   onKeyPress={(e) => onEnterKeyPress(e.key)}\r\n                                   onBlur={deactivateEditMode}\r\n                />\r\n                </div>\r\n                : <div onDoubleClick={activateEditMode}>\r\n                    Status: {props.status}\r\n                </div>\r\n        }\r\n    </div>\r\n})\r\n","import React from \"react\";\r\nimport s from './ProfileInfo.module.css';\r\nimport {ProfileType} from \"../../../redux/profile-reducer\";\r\nimport userPhoto from \"../../../assets/images/user-photo.png\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport {ProfileStatusWithHooks} from \"./ProfileStatusWithHooks\"\r\n\r\ntype PropsType = {\r\n    profile: null | ProfileType\r\n    status: string\r\n    updateUserStatus: (status: string) => void\r\n    authUserId: string\r\n    isFetching: boolean\r\n}\r\n\r\nexport const ProfileInfo = React.memo((props: PropsType) => {\r\n\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return <div className={s.profileInfo}>\r\n        <div className={s.avatarContainer}>\r\n            {props.profile &&\r\n            <img className={s.avatar} src={props.profile.photos.large ? props.profile.photos.large : userPhoto}\r\n                 alt={\"user's avatar\"}/>\r\n            }\r\n        </div>\r\n        <div className={s.description}>\r\n            <div>\r\n            {props.profile ? props.profile.fullName : null}\r\n            </div>\r\n            <ProfileStatusWithHooks status={props.status}\r\n                                    updateUserStatus={props.updateUserStatus}\r\n                                    authUserId={props.authUserId}\r\n                                    isFetching={props.isFetching}\r\n            />\r\n            <div>\r\n            Looking for a job:\r\n            {props.profile &&\r\n            props.profile.lookingForAJob ? ' yes' : ' no'}\r\n            </div>\r\n        </div>\r\n    </div>\r\n})","import {v1} from \"uuid\";\r\nimport {ActionTypes} from \"./redux-store\";\r\nimport {Dispatch} from \"redux\";\r\nimport {profileAPI} from \"../api/api\";\r\n\r\nexport type profileACTypes = ReturnType<typeof addPostActionCreator>\r\n    | ReturnType<typeof setLikedActionCreator>\r\n    | ReturnType<typeof setUserProfile>\r\n    | ReturnType<typeof setStatus>\r\n    | ReturnType<typeof setIsFetching>\r\n\r\nexport type ProfileType = {\r\n    aboutMe: string\r\n    contacts: {\r\n        facebook: null | string\r\n        website: null | string\r\n        vk: null | string\r\n        twitter: null | string\r\n        instagram: null | string\r\n        youtube: null | string\r\n        github: null | string\r\n        mainLink: null | string\r\n    }\r\n    lookingForAJob: null | boolean\r\n    lookingForAJobDescription: null | string\r\n    fullName: string\r\n    userId: number\r\n    photos: {\r\n        small: string\r\n        large: string\r\n    }\r\n}\r\n\r\nexport type PostType = {\r\n    id: string\r\n    name: string\r\n    isSentByMe: boolean\r\n    message: string\r\n    liked: boolean\r\n    likesCount: number\r\n}\r\n\r\nexport type ProfilePageType = {\r\n    posts: Array<PostType>\r\n    profile: null | ProfileType\r\n    status: string\r\n    isFetching: boolean\r\n}\r\n\r\n//not necessary part since TypeScript is used:\r\nconst ADD_POST = \"SN/PROFILE/ADD-POST\";\r\nconst SET_LIKED = \"SN/PROFILE/SET-LIKED\";\r\nconst SET_USER_PROFILE = \"SN/PROFILE/SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SN/PROFILE/SET_STATUS\";\r\nconst SET_IS_FETCHING = \"SN/PROFILE/SET_IS_FETCHING\";\r\n\r\nlet initialState: ProfilePageType = {\r\n    posts: [\r\n        {\r\n            id: v1(),\r\n            name: \"Johanna Fox\",\r\n            isSentByMe: false,\r\n            message: \"Hi! How are you?\",\r\n            liked: true,\r\n            likesCount: 15\r\n        },\r\n        {\r\n            id: v1(),\r\n            name: \"Kate Winsley\",\r\n            isSentByMe: false,\r\n            message: \"I've learned React.\",\r\n            liked: true,\r\n            likesCount: 20\r\n        },\r\n        {\r\n            id: v1(),\r\n            name: \"Fiona Smith\",\r\n            isSentByMe: false,\r\n            message: \"Happy Developer's Day!\",\r\n            liked: true,\r\n            likesCount: 5\r\n        },\r\n        {\r\n            id: v1(),\r\n            name: \"Bob Mayers\",\r\n            isSentByMe: false,\r\n            message: \"Are we gonna have a class tomorrow?\",\r\n            liked: false,\r\n            likesCount: 1\r\n        },\r\n        {\r\n            id: v1(),\r\n            name: \"Sandra Dalton\",\r\n            isSentByMe: false,\r\n            message: \"Let's get together tonight!:)\",\r\n            liked: true,\r\n            likesCount: 7\r\n        }],\r\n    profile: null,\r\n    status: \"\",\r\n    isFetching: false\r\n}\r\n\r\nconst profileReducer = (state = initialState, action: ActionTypes) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: v1(),\r\n                name: \"me\",\r\n                isSentByMe: true,\r\n                message: action.newPostText,\r\n                liked: false,\r\n                likesCount: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [newPost, ...state.posts],\r\n            };\r\n        case SET_LIKED:\r\n            let stateCopy = {\r\n                ...state,\r\n                posts: [...state.posts]\r\n            }\r\n            let postToLikeOrUnlike = stateCopy.posts.find(p => p.id === action.postId)\r\n            if (postToLikeOrUnlike) {\r\n                postToLikeOrUnlike.liked = !action.liked\r\n                if (postToLikeOrUnlike.liked) {\r\n                    postToLikeOrUnlike.likesCount = postToLikeOrUnlike.likesCount + 1\r\n                } else {\r\n                    postToLikeOrUnlike.likesCount = postToLikeOrUnlike.likesCount - 1\r\n                }\r\n            }\r\n            return stateCopy;\r\n        case SET_USER_PROFILE:\r\n            return {...state, profile: action.profile};\r\n        case SET_STATUS:\r\n            return {...state, status: action.status};\r\n        case SET_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText: string) => ({type: ADD_POST, newPostText} as const)\r\n\r\nexport const setLikedActionCreator = (postId: string, liked: boolean) =>\r\n    ({type: SET_LIKED, postId: postId, liked: liked} as const)\r\n\r\nconst setUserProfile = (profile: ProfileType) =>\r\n    ({type: SET_USER_PROFILE, profile} as const)\r\n\r\nconst setStatus = (status: string) =>\r\n    ({type: SET_STATUS, status} as const)\r\n\r\nconst setIsFetching = (isFetching: boolean) => ({type: SET_IS_FETCHING, isFetching} as const)\r\n\r\nexport const getUserProfile = (userId: string) => (dispatch: Dispatch) => {\r\n    dispatch(setIsFetching(true))\r\n    let getProfilePromise: Promise<ProfileType> = profileAPI.getUserProfile(userId)\r\n    let getStatusPromise: Promise<string> = profileAPI.getStatus(userId)\r\n    Promise.all([getProfilePromise, getStatusPromise]).then(values => {\r\n        dispatch(setUserProfile(values[0]))\r\n        dispatch(setStatus(values[1]))\r\n        dispatch(setIsFetching(false))\r\n    }).catch(error => {\r\n        console.warn(error)\r\n        dispatch(setIsFetching(false))\r\n    })\r\n}\r\n\r\nexport const updateUserStatus = (status: string) => (dispatch: Dispatch) => {\r\n    let trimmedStatus = status.trim()\r\n    dispatch(setIsFetching(true))\r\n    profileAPI.updateStatus(trimmedStatus).then(data => {\r\n        if (data.resultCode === 0) {\r\n            dispatch(setIsFetching(false))\r\n            dispatch(setStatus(trimmedStatus))\r\n        }\r\n    })\r\n}\r\n\r\nexport default profileReducer","import React from \"react\";\r\nimport s from './Post.module.css';\r\nimport likeImg from './like.svg';\r\nimport notLikedImg from './notLiked.png';\r\nimport userPhoto from \"../../../../assets/images/user-photo.png\";\r\n\r\ntype PropsType = {\r\n    postId: string\r\n    isSentByMe: boolean\r\n    name: string\r\n    message: string\r\n    liked: boolean\r\n    likesCount: number\r\n    myAvatar: null | string\r\n    setLiked: (postId: string, liked: boolean) => void\r\n}\r\n\r\nexport const Post = (props: PropsType) => {\r\n    let onLikeClick = () => {\r\n        props.setLiked(props.postId, props.liked)\r\n    }\r\n\r\n    return <div className={s.item}>\r\n        {props.isSentByMe\r\n            ? <img className={s.ava} src={props.myAvatar\r\n                ? props.myAvatar\r\n                : userPhoto}/>\r\n            : <img className={s.ava} src={userPhoto}/>\r\n        }\r\n        <div className={s.name}>{props.name}:</div>\r\n        <div className={s.message}>{props.message}</div>\r\n        <div>\r\n            <img onClick={onLikeClick} className={s.like} src={props.liked ? likeImg : notLikedImg}/> {props.likesCount}\r\n        </div>\r\n    </div>\r\n}","export const required = (value: string) => {\r\n    if (value) return undefined\r\n    return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number) => (value: string) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}","import React from \"react\";\r\nimport s from \"./FormsControls.module.css\";\r\n\r\nconst FormControl = ({input, meta, ...props}: any) => {\r\n\r\n    const hasError = meta.touched && meta.error\r\n\r\n    return <div className={hasError ? s.error : ''}>\r\n        {props.children}\r\n        {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n}\r\n\r\nexport const Textarea = (props: any) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input = (props: any) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n","import React from \"react\";\r\nimport {PostType, ProfileType} from \"../../../redux/profile-reducer\";\r\nimport s from './MyPosts.module.css';\r\nimport {Post} from \"./Post/Post\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\n\r\ntype FormData = {\r\n    newPostText: string;\r\n}\r\n\r\nconst maxLength50 = maxLengthCreator(50)\r\n\r\nconst AddNewPostForm = (props: InjectedFormProps<FormData>) => {\r\n\r\n    return <form onSubmit={props.handleSubmit} className={s.newPost}>\r\n        <Field component={Textarea}\r\n               name={\"newPostText\"}\r\n               placeholder={\"Add a Post\"}\r\n               validate={[required, maxLength50]}\r\n               className={s.textArea}/>\r\n        <button className={s.addButton}>Add Post</button>\r\n    </form>\r\n}\r\n\r\nconst AddNewPostFormRedux = reduxForm<FormData>({form: \"profileAddNewPostForm\"})(AddNewPostForm)\r\n\r\ntype PropsType = {\r\n    posts: Array<PostType>\r\n    addPost: (newPostText: string) => void\r\n    setLiked: (postId: string, liked: boolean) => void\r\n    profile: null | ProfileType\r\n}\r\n\r\nexport const MyPosts = React.memo((props: PropsType) => {\r\n\r\n    let postElements = props.posts.map(p => <Post key={p.id}\r\n                                                  postId={p.id}\r\n                                                  isSentByMe={p.isSentByMe}\r\n                                                  name={p.name}\r\n                                                  message={p.message}\r\n                                                  liked={p.liked}\r\n                                                  likesCount={p.likesCount}\r\n                                                  setLiked={props.setLiked}\r\n                                                  myAvatar={props.profile && props.profile.photos.small}\r\n    />)\r\n\r\n    let onAddPost = (values: FormData) => {\r\n        props.addPost(values.newPostText)\r\n    }\r\n\r\n    return <div className={s.postsBlock}>\r\n        <h3>My Posts</h3>\r\n        <AddNewPostFormRedux onSubmit={onAddPost}/>\r\n        <div className={s.posts}>\r\n            {postElements}\r\n        </div>\r\n    </div>\r\n})","import React from \"react\";\r\nimport {addPostActionCreator, PostType, ProfileType, setLikedActionCreator} from \"../../../redux/profile-reducer\";\r\nimport {MyPosts} from \"./MyPosts\";\r\nimport {ActionTypes, RootStateType} from \"../../../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\n\r\ntype MapStatePropsType = {\r\n    posts: Array<PostType>\r\n    profile: null | ProfileType\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    addPost: (newPostText: string) => void\r\n    setLiked: (postId: string, liked: boolean) => void\r\n}\r\n\r\nconst mapStateToProps = (state: RootStateType): MapStatePropsType => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        profile: state.profilePage.profile\r\n    } as const\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: (action: ActionTypes) => void): MapDispatchPropsType => {\r\n    return {\r\n        addPost: (newPostText: string) => {\r\n            dispatch(addPostActionCreator(newPostText))\r\n        },\r\n\r\n        setLiked: (postId: string, liked: boolean) => {\r\n            dispatch(setLikedActionCreator(postId, liked))\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer","import React from \"react\";\r\nimport {ProfileInfo} from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport {ProfileType} from \"../../redux/profile-reducer\";\r\n\r\ntype PropsType = {\r\n    profile: null | ProfileType\r\n    status: string\r\n    updateUserStatus: (status: string) => void\r\n    authUserId: string\r\n    isFetching: boolean\r\n}\r\n\r\n\r\nexport const Profile = React.memo((props: PropsType) => {\r\n\r\n    return <div>\r\n        <ProfileInfo {...props}/>\r\n        <MyPostsContainer />\r\n    </div>\r\n})","import React from \"react\";\r\nimport {RootStateType} from \"../../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\nimport {Profile} from \"./Profile\";\r\nimport {getUserProfile, ProfileType, updateUserStatus} from \"../../redux/profile-reducer\";\r\nimport {Redirect, RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\ntype PathParamsType = {\r\n    userId?: string | undefined\r\n}\r\n\r\nexport type PropsType = RouteComponentProps<PathParamsType> & {\r\n    profile: null | ProfileType\r\n    authUserId: string\r\n    status: string\r\n    isFetching: boolean\r\n    getUserProfile: (userId: string) => void\r\n    updateUserStatus: (status: string) => void\r\n}\r\n\r\nclass ProfileContainer extends React.Component<PropsType> {\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.authUserId\r\n        }\r\n        this.props.getUserProfile(userId)\r\n    }\r\n\r\n    componentDidUpdate(prevProps: PropsType, prevState: {}) {\r\n        let userId = this.props.match.params.userId\r\n        if (prevProps.match.params.userId !== userId && userId) {\r\n            this.props.getUserProfile(userId)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.props.authUserId === \"\" && this.props.match.params.userId === undefined) return <Redirect\r\n            to={\"/login\"}/>\r\n        return <Profile {...this.props} />\r\n    }\r\n}\r\n\r\ntype MapStatePropsType = {\r\n    profile: null | ProfileType\r\n    authUserId: string\r\n    status: string\r\n    isFetching: boolean\r\n}\r\n\r\nconst mapStateToProps = (state: RootStateType): MapStatePropsType => {\r\n    return {\r\n        profile: state.profilePage.profile, //state.\"global state branch\",\r\n        authUserId: state.auth.id,\r\n        status: state.profilePage.status,\r\n        isFetching: state.profilePage.isFetching\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(connect(mapStateToProps, {getUserProfile, updateUserStatus}),\r\n    withRouter\r\n)(ProfileContainer)","import React from \"react\";\r\n\r\nexport const News = () => {\r\n    return <div>\r\n        News\r\n    </div>\r\n}","import React from \"react\";\r\n\r\nexport const Music = () => {\r\n    return <div>\r\n        Music\r\n    </div>\r\n}","import React from \"react\";\r\n\r\nexport const Settings = () => {\r\n    return <div>\r\n        Settings\r\n    </div>\r\n}","import {v1} from \"uuid\";\r\nimport {ActionTypes} from \"./redux-store\";\r\nimport userPhoto from \"../assets/images/user-photo.png\"\r\n\r\nexport type DialogType = {\r\n    id: string\r\n    name: string\r\n    avatar: string\r\n}\r\nexport type MessageType = {\r\n    id: string\r\n    message: string\r\n    isSentByMe: boolean\r\n}\r\nexport type DialogsPageType = {\r\n    dialogs: Array<DialogType>\r\n    messages: Array<MessageType>\r\n}\r\nexport type dialogsACTypes = ReturnType<typeof sendMessageCreator>\r\n\r\nconst SEND_MESSAGE = \"SEND-MESSAGE\";\r\n\r\nlet initialState: DialogsPageType = {\r\n    dialogs: [\r\n        {\r\n            id: v1(),\r\n            name: \"Dimych\",\r\n            avatar: userPhoto\r\n        },\r\n        {\r\n            id: v1(),\r\n            name: \"Andrey\",\r\n            avatar: userPhoto\r\n        },\r\n        {\r\n            id: v1(),\r\n            name: \"Sveta\",\r\n            avatar: userPhoto\r\n        },\r\n        {\r\n            id: v1(),\r\n            name: \"Sasha\",\r\n            avatar: userPhoto\r\n        },\r\n        {\r\n            id: v1(),\r\n            name: \"Victor\",\r\n            avatar: userPhoto\r\n        },\r\n        {\r\n            id: v1(),\r\n            name: \"Valera\",\r\n            avatar: userPhoto\r\n        }\r\n    ],\r\n    messages: [\r\n        {\r\n            id: v1(),\r\n            message: \"Hi\",\r\n            isSentByMe: false,\r\n        },\r\n        {\r\n            id: v1(),\r\n            message: \"What's up?\",\r\n            isSentByMe: true,\r\n        },\r\n        {\r\n            id: v1(),\r\n            message: \"All good)\",\r\n            isSentByMe: false,\r\n        }\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action: ActionTypes) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let newMessage = {\r\n                id: v1(),\r\n                message: action.newMessageText,\r\n                isSentByMe: true\r\n            }\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, newMessage]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageText: string) => ({type: SEND_MESSAGE, newMessageText} as const)\r\n\r\nexport default dialogsReducer","import React from \"react\";\r\nimport s from './DialogItem.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype PropsType = {\r\n    avatar: string\r\n    friendName: string\r\n    id: string\r\n}\r\n\r\nexport const DialogItem = (props: PropsType) => {\r\n    return <li className={s.dialog}>\r\n        <img className={s.avatar} src={props.avatar} />\r\n        <NavLink to={`/dialogs/${props.id}`} activeClassName={s.active}>{props.friendName}</NavLink>\r\n    </li>\r\n}","import React from \"react\";\r\nimport s from './Message.module.css';\r\nimport userPhoto from \"../../../assets/images/user-photo.png\"\r\n\r\ntype PropsType = {\r\n    myAvatar: null | string\r\n    message: string\r\n    isSentByMe: boolean\r\n}\r\n\r\nexport const Message = (props: PropsType) => {\r\n\r\n    return <div\r\n        className={props.isSentByMe ?\r\n            `${s.rightSide}` : `${s.leftSide}`}>\r\n        {!props.isSentByMe &&\r\n        <img src={userPhoto}/>}\r\n        <span className={s.message}> {props.message}</span>\r\n        {props.isSentByMe &&\r\n        <img src={props.myAvatar\r\n            ? props.myAvatar\r\n            : userPhoto}/>}\r\n    </div>\r\n}","import React from \"react\";\r\nimport s from './Dialogs.module.css'\r\nimport {DialogItem} from \"./DialogItem/DialogItem\";\r\nimport {Message} from \"./Messages/Message\";\r\nimport {DialogsPageType} from \"../../redux/dialogs-reducer\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {ProfileType} from \"../../redux/profile-reducer\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\nimport {Textarea} from \"../common/FormsControls/FormsControls\";\r\n\r\nconst maxLength50 = maxLengthCreator(50)\r\n\r\nconst AddMessageForm = (props: InjectedFormProps) => {\r\n\r\n    return <form className={s.newMessage} onSubmit={props.handleSubmit}>\r\n        <div>\r\n            <Field component={Textarea}\r\n                   name={\"newMessageBody\"}\r\n                   placeholder={\"Enter your message\"}\r\n                   validate={[required, maxLength50]}\r\n                   className={s.textarea}/>\r\n        </div>\r\n        <div>\r\n            <button className={s.btn}>Send</button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm({form: \"dialogsAddMessageForm\"})(AddMessageForm)\r\n\r\nexport type DialogsPropsType = {\r\n    dialogsPage: DialogsPageType\r\n    sendMessage: (newMessageText: string) => void\r\n    profile: null | ProfileType\r\n}\r\n\r\nexport const Dialogs = (props: DialogsPropsType) => {\r\n    let state = props.dialogsPage\r\n\r\n    let dialogsElements = state.dialogs.map(d => <DialogItem avatar={d.avatar} friendName={d.name}\r\n                                                             id={d.id}/>)\r\n    let messagesElements = state.messages.map(m => <Message myAvatar={props.profile && props.profile.photos.small}\r\n                                                            message={m.message}\r\n                                                            isSentByMe={m.isSentByMe}\r\n    />)\r\n\r\n    const onNewMessageSubmit = (formData: any) => {\r\n        props.sendMessage(formData.newMessageBody)\r\n    }\r\n\r\n    return <div className={s.dialogs}>\r\n        <div className={s.dialogItems}>\r\n            {dialogsElements}\r\n        </div>\r\n        <div className={s.messages}>\r\n            <div className={s.chat}>\r\n                {messagesElements}\r\n            </div>\r\n            <br/>\r\n            <AddMessageFormRedux onSubmit={onNewMessageSubmit}/>\r\n        </div>\r\n    </div>\r\n}","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {RootStateType} from \"../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\n\r\ntype MapPropsType = {\r\n    isAuth: boolean\r\n}\r\n\r\nlet mapStateToPropsForRedirect = (state: RootStateType) => ({isAuth: state.auth.isAuth} as MapPropsType)\r\n\r\ntype DispatchPropsType = {}\r\n\r\nexport function withAuthRedirect<WCP>(WrappedComponent: React.ComponentType<WCP>) {\r\n    function RedirectComponent(props: MapPropsType & DispatchPropsType) {\r\n        let {isAuth, ...restProps} = props\r\n        if (!props.isAuth) return <Redirect to={\"/login\"}/>\r\n        return <WrappedComponent {...restProps as WCP}/>\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect<MapPropsType, DispatchPropsType, WCP, RootStateType>(mapStateToPropsForRedirect)(RedirectComponent)\r\n    return ConnectedAuthRedirectComponent\r\n}","import React from \"react\";\r\nimport {DialogsPageType, sendMessageCreator} from \"../../redux/dialogs-reducer\";\r\nimport {Dialogs} from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {ActionTypes, RootStateType} from \"../../redux/redux-store\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {ProfileType} from \"../../redux/profile-reducer\";\r\n\r\ntype MapStatePropsType = {\r\n    dialogsPage: DialogsPageType\r\n    profile: null | ProfileType\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    sendMessage: (newMessageText: string) => void\r\n}\r\n\r\nconst mapStateToProps = (state: RootStateType): MapStatePropsType => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n        profile: state.profilePage.profile\r\n    } as const\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: (action: ActionTypes) => void): MapDispatchPropsType => {\r\n    return {\r\n        sendMessage: (newMessageText: string) => {\r\n            dispatch(sendMessageCreator(newMessageText))\r\n        }\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(connect(mapStateToProps, mapDispatchToProps), withAuthRedirect)(Dialogs)","import {ActionTypes} from \"./redux-store\";\r\nimport {followAPI, userAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nexport type usersACTypes = ReturnType<typeof followSuccess>\r\n    | ReturnType<typeof unfollowSuccess>\r\n    | ReturnType<typeof setUsers>\r\n    | ReturnType<typeof setCurrentPage>\r\n    | ReturnType<typeof setTotalUsersCount>\r\n    | ReturnType<typeof toggleIsFetching>\r\n    | ReturnType<typeof toggleFollowingProgress>\r\n\r\nexport type UserType = {\r\n    name: string\r\n    id: string\r\n    uniqueUrlName: string | null\r\n    photos: {\r\n        small: string | null\r\n        large: string | null\r\n    }\r\n    status: string | null\r\n    followed: boolean\r\n}\r\nexport type UsersPageType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<boolean | string>\r\n}\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_FOLLOWING_PROGRESS = \"TOGGLE_FOLLOWING_PROGRESS\";\r\n\r\nlet initialState: UsersPageType = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n}\r\n\r\nconst usersReducer = (state = initialState, action: ActionTypes) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map((u: any) => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true}\r\n                    } //we've changed only 1 object in the array!\r\n                    return u  //the rest will be the same.\r\n                })\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map((u: any) => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false}\r\n                    } //we've changed only 1 object in the array!\r\n                    return u\r\n                }),\r\n            }\r\n\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                // users: [...state.users, ...action.users]\r\n                //we don't want to add new array of users from action to the state array\r\n                users: action.users,\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalUsersCount\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case TOGGLE_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.followingInProgress\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId: string) => ({type: FOLLOW, userId} as const)\r\nexport const unfollowSuccess = (userId: string) => ({type: UNFOLLOW, userId} as const)\r\nexport const setUsers = (users: Array<UserType>) => ({type: SET_USERS, users} as const)\r\nexport const setCurrentPage = (currentPage: number) => ({type: SET_CURRENT_PAGE, currentPage} as const)\r\nexport const setTotalUsersCount = (totalUsersCount: number) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount} as const)\r\nexport const toggleIsFetching = (isFetching: boolean) => ({type: TOGGLE_IS_FETCHING, isFetching} as const)\r\nexport const toggleFollowingProgress = (followingInProgress: boolean, userId: string) => ({\r\n    type: TOGGLE_FOLLOWING_PROGRESS,\r\n    followingInProgress,\r\n    userId\r\n} as const)\r\n\r\nexport const requestUsers = (currentPage: number, pageSize: number) => (dispatch: Dispatch) => {\r\n    dispatch(setCurrentPage(currentPage))\r\n    dispatch(toggleIsFetching(true))\r\n    userAPI.getUsers(currentPage, pageSize).then(data => {\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setTotalUsersCount(data.totalCount))\r\n    })\r\n}\r\n\r\nexport const follow = (userId: string) => (dispatch: Dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    followAPI.follow(userId).then(data => {\r\n        if (data.resultCode === 0) {\r\n            dispatch(followSuccess(userId))\r\n        }\r\n        dispatch(toggleFollowingProgress(false, userId))\r\n    })\r\n}\r\n\r\nexport const unfollow = (userId: string) => (dispatch: Dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    followAPI.unfollow(userId).then(data => {\r\n        if (data.resultCode === 0) {\r\n            dispatch(unfollowSuccess(userId))\r\n        }\r\n        dispatch(toggleFollowingProgress(false, userId))\r\n    })\r\n}\r\n\r\nexport default usersReducer","import React from \"react\";\r\nimport s from \"./Users.module.css\";\r\nimport userPhoto from \"../../assets/images/user-photo.png\"\r\nimport {UserType} from \"../../redux/users-reducer\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n\r\ntype PropsType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    followingInProgress: Array<boolean | string>\r\n    follow: (userId: string) => void\r\n    unfollow: (userId: string) => void\r\n    onPageChanged: (currentPage: number) => void\r\n    isFetching: boolean\r\n    isAuth: boolean\r\n}\r\n\r\nconst Users = (props: PropsType) => {\r\n\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    return <div>\r\n        <div>\r\n            <button className={s.pageNumber} onClick={() => {\r\n                if (props.currentPage >= 2) {\r\n                    props.onPageChanged(props.currentPage - 1)\r\n                }\r\n            }}>&#60;</button>\r\n            {pages.map((p, i) => {\r\n                    if (p <= 5 || p === 10 || p === 50 || p === 100 || p === 150 || p === 200 || p === 250\r\n                        || p === 300 || p === 350 || p === 400 || p === 450 || p === 500 || p === 550 || p === 600\r\n                        || p === 650 || p === 700 || p === 750) {\r\n                        return <span key={i} className={props.currentPage === p ? s.selected : s.pageNumber}\r\n                                     onClick={() => props.onPageChanged(p)}> {p} </span>\r\n                    }\r\n                }\r\n            )}\r\n            <span className={props.currentPage === pagesCount ? s.selected : s.pageNumber}\r\n                  onClick={() => {\r\n                      props.onPageChanged(pagesCount)\r\n                  }}>{pagesCount} </span>\r\n            <button className={s.pageNumber} onClick={() => {\r\n                if (props.currentPage < props.totalUsersCount) {\r\n                    props.onPageChanged(props.currentPage + 1)\r\n                }\r\n            }}>&#62;</button>\r\n            <span className={s.selected}>  {props.currentPage}</span>\r\n        </div>\r\n        {props.isFetching\r\n            ? <Preloader/>\r\n            : <> {props.users.map((u: any) => <div key={u.id}>\r\n\r\n                <div className={s.spanBlock}>\r\n                    <div className={s.divBlock + \" \" + s.photoBtnBlock}>\r\n                        <div>\r\n                            <NavLink to={'/profile/' + u.id}>\r\n                                <img src={u.photos.small != null ? u.photos.small : userPhoto}\r\n                                     className={s.userPhoto} alt={'userPhoto'}/>\r\n                            </NavLink>\r\n                        </div>\r\n                        <div>\r\n                            {u.followed\r\n                                ? <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                          onClick={() => {\r\n                                              props.unfollow(u.id)\r\n                                          }}>Unfollow</button>\r\n                                : <>\r\n                                    {props.isAuth\r\n                                        ? <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                                  onClick={() => {\r\n                                                      props.follow(u.id)\r\n                                                  }}>Follow</button>\r\n                                        : <button><NavLink to=\"/login\">Follow</NavLink></button>\r\n                                    }\r\n                                </>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <div className={s.spanBlock + \" \" + s.textInfoBlock}>\r\n                        <div className={s.divBlock + \" \" + s.nameStatusBlock}>\r\n                            <div>{u.name}</div>\r\n                            <div>{u.status}</div>\r\n                        </div>\r\n                        <div className={s.divBlock + \" \" + s.cityCountryBlock}>\r\n                            <div>{\"u.location.city\"}</div>\r\n                            <div>{\"u.location.country\"}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>)\r\n            }\r\n            </>\r\n        }\r\n    </div>\r\n}\r\n\r\nexport default Users","import React from \"react\";\r\nimport {RootStateType} from \"../../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\nimport {follow, requestUsers, unfollow, UserType} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport {getFriends} from \"../../redux/navbar-reducer\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\ntype PropsType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<boolean | string>\r\n    follow: (userId: string) => void\r\n    unfollow: (userId: string) => void\r\n    requestUsers: (currentPage: number, pageSize: number) => void\r\n    getFriends: (currentPage: number, pageSize: number, friend: boolean) => void\r\n    isAuth: boolean\r\n}\r\n\r\nclass UsersContainer extends React.Component<PropsType> {\r\n\r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.currentPage, this.props.pageSize)\r\n        this.props.getFriends(this.props.currentPage, this.props.pageSize, true)\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => { //arrow syntax is needed to save the call context\r\n        this.props.requestUsers(pageNumber, this.props.pageSize)\r\n        this.props.getFriends(pageNumber, this.props.pageSize, true)\r\n    }\r\n\r\n    render() {\r\n        return <Users\r\n            users={this.props.users}\r\n            pageSize={this.props.pageSize}\r\n            totalUsersCount={this.props.totalUsersCount}\r\n            currentPage={this.props.currentPage}\r\n            follow={this.props.follow}\r\n            unfollow={this.props.unfollow}\r\n            followingInProgress={this.props.followingInProgress}\r\n            onPageChanged={this.onPageChanged}\r\n            isFetching={this.props.isFetching}\r\n            isAuth={this.props.isAuth}\r\n        />\r\n    }\r\n}\r\n\r\ntype MapStatePropsType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    currentPage: number\r\n    totalUsersCount: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<boolean | string>\r\n    isAuth: boolean\r\n}\r\n\r\nconst mapStateToProps = (state: RootStateType): MapStatePropsType => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        currentPage: getCurrentPage(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingProgress(state),\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    requestUsers,\r\n    getFriends\r\n})(UsersContainer)","import React from \"react\";\r\nimport s from './Header.module.css';\r\nimport logo from '../../assets/images/logo.png';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n\r\ntype PropsType = {\r\n    isAuth: boolean\r\n    login: string\r\n    isFetching: boolean\r\n    id: string\r\n    logout: () => void\r\n}\r\n\r\nexport const Header = (props: PropsType) => {\r\n    return <header className={s.header}>\r\n\r\n        <img src={`${logo}`}/>\r\n\r\n        <div className={s.loginBlock}>\r\n            {props.isFetching ? <Preloader/> :\r\n                props.isAuth\r\n                    ? <div>\r\n                        <NavLink to={'/profile/' + props.id}>{props.login}</NavLink>\r\n                        <NavLink to={'/login'}><button onClick={props.logout}>Log out</button></NavLink>\r\n                    </div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>\r\n            }\r\n        </div>\r\n\r\n    </header>\r\n}","import store, {ActionTypes} from \"./redux-store\";\r\nimport {Dispatch} from \"redux\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {authAPI, securityAPI} from \"../api/api\";\r\n\r\nexport type authACTypes = ReturnType<typeof setAuthUserData>\r\n    | ReturnType<typeof toggleIsFetching>\r\n    | ReturnType<typeof setCaptchaURL>\r\n\r\nexport type AuthType = {\r\n    id: string\r\n    email: string\r\n    login: string\r\n    isFetching: boolean\r\n    isAuth: boolean\r\n    captchaURL: string\r\n}\r\n\r\nconst SET_AUTH_USER_DATA = \"SET_AUTH_USER_DATA\";\r\nconst SET_CAPTCHA_URL = \"SET_CAPTCHA_URL\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\n\r\nlet initialState: AuthType = {\r\n    id: \"\",\r\n    email: \"\",\r\n    login: \"\",\r\n    isFetching: false,\r\n    isAuth: false,\r\n    captchaURL: \"\"\r\n}\r\n\r\nconst authReducer = (state = initialState, action: ActionTypes) => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        case SET_CAPTCHA_URL: {\r\n            return {\r\n                ...state,\r\n                captchaURL: action.captchaURL\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst setAuthUserData = (id: string, email: string, login: string, isAuth: boolean) => ({\r\n    type: SET_AUTH_USER_DATA,\r\n    payload: {id, email, login, isAuth}\r\n} as const)\r\nconst setCaptchaURL = (captchaURL: string) => ({type: SET_CAPTCHA_URL, captchaURL} as const)\r\nexport const toggleIsFetching = (isFetching: boolean) => ({type: TOGGLE_IS_FETCHING, isFetching} as const)\r\n\r\nexport const getAuthUserData = () => (dispatch: Dispatch) => {\r\n    return authAPI.me().then(data => {\r\n        dispatch(toggleIsFetching(true))\r\n        if (data.resultCode === 0) {\r\n            dispatch(toggleIsFetching(false))\r\n            let {id, email, login} = data.data\r\n            dispatch(setAuthUserData(id, email, login, true))\r\n        } else dispatch(toggleIsFetching(false))\r\n    })\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha?: string) => (dispatch: Dispatch) => {\r\n    authAPI.login(email, password, rememberMe, captcha).then(data => {\r\n        dispatch(toggleIsFetching(true))\r\n        if (data.resultCode === 0) {\r\n            dispatch(toggleIsFetching(false))\r\n            dispatch(getAuthUserData() as any)\r\n            dispatch(setCaptchaURL(\"\"))\r\n        }\r\n        if (data.resultCode === 1) {\r\n            dispatch(toggleIsFetching(false))\r\n            dispatch(stopSubmit(\"login\", {_error: data.messages}))\r\n        }\r\n        if (data.resultCode === 10) {\r\n            dispatch(toggleIsFetching(false))\r\n            dispatch(stopSubmit(\"login\", {_error: data.messages}))\r\n            securityAPI.getCaptchaURL().then(data => {\r\n                dispatch(setCaptchaURL(data.url))\r\n            })\r\n        }\r\n    })\r\n}\r\n\r\nexport const logout = () => (dispatch: Dispatch) => {\r\n    authAPI.logout().then(data => {\r\n        if (data.resultCode === 0) {\r\n            dispatch(setAuthUserData(\"\", \"\", \"\", false))\r\n        }\r\n    })\r\n}\r\n\r\nexport default authReducer","import React from \"react\";\r\nimport {RootStateType} from \"../../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\nimport {Header} from \"./Header\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\ntype PropsType = {\r\n    isFetching: boolean\r\n    isAuth: boolean\r\n    login: string\r\n    id: string\r\n    logout: () => void\r\n}\r\n\r\nclass HeaderContainer extends React.Component<PropsType> {\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n    login: string\r\n    isFetching: boolean\r\n    id: string\r\n}\r\n\r\nconst mapStateToProps = (state: RootStateType): MapStatePropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n        isFetching: state.auth.isFetching,\r\n        id: state.auth.id\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,\r\n    {logout})(HeaderContainer)","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {RootStateType} from \"../../redux/redux-store\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport s from \"./Login.module.css\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n\r\ntype LoginFormPropsType = {\r\n    captchaURL: string\r\n    isFetching: boolean\r\n}\r\n\r\nconst LoginForm = (props: any & LoginFormPropsType) => {\r\n\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div>\r\n            <Field placeholder=\"Email\" name={\"email\"} component={Input} validate={[required]}/>\r\n        </div>\r\n        <div>\r\n            <Field placeholder=\"Password\" name={\"password\"} component={Input} validate={[required]} type={\"password\"}/>\r\n        </div>\r\n        <div>\r\n            <Field component={\"input\"} name={\"rememberMe\"} type=\"checkbox\"/> Remember me\r\n        </div>\r\n        <div>\r\n            {props.error && <div className={s.error}>{props.error}</div>}\r\n            {props.captchaURL &&\r\n            <div>\r\n                <img src={props.captchaURL}/>\r\n                <div>\r\n                    <Field placeholder=\"enter symbols from captcha\" name={\"captcha\"} component={Input}\r\n                           validate={[required]}/>\r\n                </div>\r\n            </div>}\r\n        </div>\r\n        <div>\r\n            {props.isFetching\r\n                ? <Preloader/>\r\n                : <button>Login</button>}\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\ntype LoginType = {\r\n    login: (email: string, password: string, rememberMe: boolean, captcha?: string) => void\r\n    isAuth: boolean\r\n    captchaURL: string\r\n    isFetching: boolean\r\n}\r\n\r\nclass Login extends React.Component<LoginType> {\r\n    onSubmit = (formData: any) => {\r\n        this.props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n\r\n    render() {\r\n        if (this.props.isAuth) {\r\n            return <Redirect to={\"/profile\"}/>\r\n        }\r\n        return <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={this.onSubmit} {...this.props}/>\r\n        </div>\r\n    }\r\n}\r\n\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n    captchaURL: string\r\n    isFetching: boolean\r\n}\r\n\r\nconst mapStateToProps = (state: RootStateType): MapStatePropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaURL: state.auth.captchaURL,\r\n        isFetching: state.auth.isFetching,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {login})(Login)","import {ActionTypes, RootStateType} from \"./redux-store\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\nimport {ThunkDispatch} from \"redux-thunk\";\r\n\r\nexport type appACTypes = ReturnType<typeof setInitialized>\r\n\r\nexport type AppReducerType = {\r\n    initialized: boolean\r\n}\r\n\r\nconst SET_INITIALIZED = \"SET_INITIALIZED\";\r\n\r\nlet initialState: AppReducerType = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action: ActionTypes) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst setInitialized = () => ({type: SET_INITIALIZED} as const)\r\n\r\nexport const initializeApp = () => (dispatch: ThunkDispatch<RootStateType, void, appACTypes>) => {\r\n    let promise = dispatch(getAuthUserData())\r\n    promise.then(() => {\r\n        dispatch(setInitialized())\r\n    })\r\n}\r\n\r\nexport default appReducer","import React from 'react';\r\nimport './App.css';\r\nimport {Redirect, Route, RouteComponentProps, Switch, withRouter} from 'react-router-dom'\r\nimport {Navbar} from './components/Navbar/Navbar';\r\nimport ProfileContainer from './components/Profile/ProfileContainer';\r\nimport {News} from './components/News/News';\r\nimport {Music} from './components/Music/Music';\r\nimport {Settings} from './components/Settings/Settings';\r\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport LoginPage from \"./components/Login/Login\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {RootStateType} from \"./redux/redux-store\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\n\r\nexport const PATH = {\r\n    LOGIN: \"/login\",\r\n    DIALOGS: \"/dialogs\",\r\n    NEWS: \"/news\",\r\n    MUSIC: \"/music\",\r\n    PROFILE: \"/profile\",\r\n    USERS: \"/users\",\r\n    SETTINGS: \"/settings\",\r\n}\r\n\r\ntype PathParamsType = {}\r\n\r\ntype PropsType = RouteComponentProps<PathParamsType> & {\r\n    initializeApp: () => void\r\n    initialized: boolean\r\n}\r\n\r\nclass App extends React.Component<PropsType> {\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n\r\n        return (\r\n            <div className=\"app-wrapper\">\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className=\"app-wrapper-content\">\r\n                    <Switch>\r\n                        <Route exact path={['/', `${PATH.PROFILE}/:userId?`]} render={() => <ProfileContainer/>}/>\r\n                        <Route path={PATH.DIALOGS} render={() => <DialogsContainer/>}/>\r\n                        <Route path={PATH.NEWS} render={() => <News/>}/>\r\n                        <Route path={PATH.MUSIC} render={() => <Music/>}/>\r\n                        <Route path={PATH.USERS} render={() => <UsersContainer/>}/>\r\n                        <Route path={PATH.SETTINGS} render={() => <Settings/>}/>\r\n                        <Route path={PATH.LOGIN} render={() => <LoginPage/>}/>\r\n                        <Route path={'/404'} render={() => <div>404. Page Not Found</div>}/>\r\n                        <Redirect from={'*'} to={'/404'}/>\r\n                    </Switch>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\ntype MapStatePropsType = {\r\n    initialized: boolean\r\n}\r\n\r\nconst mapStateToProps = (state: RootStateType): MapStatePropsType => {\r\n    return {\r\n        initialized: state.app.initialized\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(withRouter, connect(mapStateToProps, {initializeApp}))(App)\r\n","import profileReducer, {profileACTypes, ProfilePageType} from \"./profile-reducer\";\r\nimport dialogsReducer, {dialogsACTypes, DialogsPageType} from \"./dialogs-reducer\";\r\nimport navbarReducer, {navbarACTypes, NavBarType} from \"./navbar-reducer\";\r\nimport {applyMiddleware, combineReducers, createStore, Store} from \"redux\";\r\nimport usersReducer, {usersACTypes, UsersPageType} from \"./users-reducer\";\r\nimport authReducer, {authACTypes, AuthType} from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {FormState, reducer as formReducer} from 'redux-form';\r\nimport appReducer, {appACTypes, AppReducerType} from \"./app-reducer\";\r\n\r\nexport type RootStateType = {\r\n    profilePage: ProfilePageType\r\n    dialogsPage: DialogsPageType\r\n    navBar: NavBarType\r\n    usersPage: UsersPageType\r\n    auth: AuthType\r\n    form: FormState\r\n    app: AppReducerType\r\n}\r\n\r\nexport type ActionTypes = profileACTypes | dialogsACTypes | usersACTypes | authACTypes | navbarACTypes | appACTypes\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    navBar: navbarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n}) //above are branches of the global state\r\n\r\nlet store: Store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\n\r\nexport default store\r\n\r\ndeclare const window: any\r\nwindow.store = store\r\n//Store - OOP","import * as serviceWorker from './serviceWorker';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport {HashRouter} from 'react-router-dom';\r\nimport store from './redux/redux-store';\r\nimport {Provider} from 'react-redux';\r\n\r\nReactDOM.render(\r\n    <HashRouter>\r\n        <Provider store={store}>\r\n            <App/>\r\n        </Provider>\r\n    </HashRouter>,\r\n    document.getElementById('root')\r\n);\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1_OY-\",\"dialogItems\":\"Dialogs_dialogItems__kFiS1\",\"messages\":\"Dialogs_messages__3Asf0\",\"chat\":\"Dialogs_chat__wfIMf\",\"newMessage\":\"Dialogs_newMessage__3oaDU\",\"textarea\":\"Dialogs_textarea__2Z5Td\",\"btn\":\"Dialogs_btn__C1uH5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfo\":\"ProfileInfo_profileInfo__2bI0H\",\"coverContainer\":\"ProfileInfo_coverContainer__2A55V\",\"profileCover\":\"ProfileInfo_profileCover__3TSH2\",\"avatarContainer\":\"ProfileInfo_avatarContainer__22Lh_\",\"avatar\":\"ProfileInfo_avatar__1xHqr\",\"description\":\"ProfileInfo_description__2GVK2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__Vp8dL\",\"ava\":\"Post_ava__2oqIf\",\"name\":\"Post_name__gnfYF\",\"message\":\"Post_message__2YclA\",\"like\":\"Post_like__2RVJ2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__36jho\",\"newPost\":\"MyPosts_newPost__2SVO2\",\"textArea\":\"MyPosts_textArea__34e88\",\"addButton\":\"MyPosts_addButton__2ouFX\",\"posts\":\"MyPosts_posts__2aDtz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogItem_dialog__3o1jL\",\"avatar\":\"DialogItem_avatar__1WcCd\",\"active\":\"DialogItem_active__2fIPi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"leftSide\":\"Message_leftSide__3kwt-\",\"rightSide\":\"Message_rightSide__8LuSW\",\"message\":\"Message_message__2g6ne\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"FriendsDisplay_friends__2rBk3\",\"item\":\"FriendsDisplay_item__3QEjm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3M0uA\",\"loginBlock\":\"Header_loginBlock__H_3S3\"};"],"sourceRoot":""}